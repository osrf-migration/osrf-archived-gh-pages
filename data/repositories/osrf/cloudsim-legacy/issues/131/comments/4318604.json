{"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/issues/131/comments/4318604.json"}, "html": {"href": "#!/osrf/cloudsim-legacy/issues/131#comment-4318604"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/issues/131.json"}}, "type": "issue", "id": 131, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy.json"}, "html": {"href": "#!/osrf/cloudsim-legacy"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e799e7f6-0caa-464a-97f8-8605a37ebfb1}ts=python"}}, "type": "repository", "name": "cloudsim-legacy", "full_name": "osrf/cloudsim-legacy", "uuid": "{e799e7f6-0caa-464a-97f8-8605a37ebfb1}"}, "title": "CloudSim is counting multicast packets sent from fc2 to fc1 in the up/downlink quotes"}, "content": {"raw": "The count is determined by a [filter expression](#!/osrf/cloudsim-client-tools/src/f80e9ecd13f3604d810011ea8301b965aa42cf6c/vrc_bytecounter/src/byteCounter.c?at=default#cl-305), which is basically checking for a packet that is:\n\n1. from or to {sim, fc1, fc2} AND\n2. NOT from or to router\n\n(There's other stuff in there to not count NTP and DNS queries coming from the sim machine.)\n\nIt makes sense that if you're sending multicast packets between fc1 and fc2, the router will overhear them and they'll be caught by that filter.  As you've guessed, we tested with ROS comms, which is unicast, and didn't put in support for multicast.\n\nThis should be easy to fix.  Digging into pcap-filter....", "markup": "markdown", "html": "<p>The count is determined by a <a data-is-external-link=\"true\" href=\"#!/osrf/cloudsim-client-tools/src/f80e9ecd13f3604d810011ea8301b965aa42cf6c/vrc_bytecounter/src/byteCounter.c?at=default#cl-305\" rel=\"nofollow\">filter expression</a>, which is basically checking for a packet that is:</p>\n<ol>\n<li>from or to {sim, fc1, fc2} AND</li>\n<li>NOT from or to router</li>\n</ol>\n<p>(There's other stuff in there to not count NTP and DNS queries coming from the sim machine.)</p>\n<p>It makes sense that if you're sending multicast packets between fc1 and fc2, the router will overhear them and they'll be caught by that filter.  As you've guessed, we tested with ROS comms, which is unicast, and didn't put in support for multicast.</p>\n<p>This should be easy to fix.  Digging into pcap-filter....</p>", "type": "rendered"}, "created_on": "2013-06-03T15:08:21.781847+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4318604}