{"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/issues/131/comments/4318808.json"}, "html": {"href": "#!/osrf/cloudsim-legacy/issues/131#comment-4318808"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/issues/131.json"}}, "type": "issue", "id": 131, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy.json"}, "html": {"href": "#!/osrf/cloudsim-legacy"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e799e7f6-0caa-464a-97f8-8605a37ebfb1}ts=python"}}, "type": "repository", "name": "cloudsim-legacy", "full_name": "osrf/cloudsim-legacy", "uuid": "{e799e7f6-0caa-464a-97f8-8605a37ebfb1}"}, "title": "CloudSim is counting multicast packets sent from fc2 to fc1 in the up/downlink quotes"}, "content": {"raw": "Debugging filter expression in an environment where multicast is in use between fc1 and fc2:\n\nOriginal expression (not including the NTP/DNS sim exclusion):\n~~~\n$ sudo tcpdump -i bond0 \"(ip host (10.0.0.51 or 10.0.0.52 or 10.0.0.53) and not 10.0.0.50)\"                     \ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on bond0, link-type EN10MB (Ethernet), capture size 65535 bytes\n10:21:01.923783 IP 10.0.0.53.53743 > 239.255.76.67.7667: UDP, length 1420\n10:21:01.923808 IP 10.0.0.53.53743 > 239.255.76.67.7667: UDP, length 1038\n10:21:01.955823 IP 10.0.0.52.34324 > 239.255.76.67.7667: UDP, length 1420\n10:21:01.955844 IP 10.0.0.52.34324 > 239.255.76.67.7667: UDP, length 1028\n~~~\n\nAdd `and not ip multicast`:\n~~~\n$ sudo tcpdump -i bond0 \"(ip host (10.0.0.51 or 10.0.0.52 or 10.0.0.53) and not 10.0.0.50) and not ip multicast\"\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on bond0, link-type EN10MB (Ethernet), capture size 65535 bytes\n10:21:39.861898 IP 10.0.0.53.ntp > mighty.poclabs.net.ntp: NTPv4, Client, length 48\n10:21:39.889722 IP mighty.poclabs.net.ntp > 10.0.0.53.ntp: NTPv4, Server, length 48\n10:21:40.841784 IP 10.0.0.52.9000 > 11.8.0.2.9001: UDP, length 8\n10:21:42.974399 IP 10.0.0.52.9000 > 11.8.0.2.9001: UDP, length 8\n~~~\n", "markup": "markdown", "html": "<p>Debugging filter expression in an environment where multicast is in use between fc1 and fc2:</p>\n<p>Original expression (not including the NTP/DNS sim exclusion):</p>\n<div class=\"codehilite\"><pre><span></span>$ sudo tcpdump -i bond0 <span class=\"s2\">&quot;(ip host (10.0.0.51 or 10.0.0.52 or 10.0.0.53) and not 10.0.0.50)&quot;</span>                     \ntcpdump: verbose output suppressed, use -v or -vv <span class=\"k\">for</span> full protocol decode\nlistening on bond0, link-type EN10MB <span class=\"o\">(</span>Ethernet<span class=\"o\">)</span>, capture size <span class=\"m\">65535</span> bytes\n<span class=\"m\">10</span>:21:01.923783 IP <span class=\"m\">10</span>.0.0.53.53743 &gt; <span class=\"m\">239</span>.255.76.67.7667: UDP, length <span class=\"m\">1420</span>\n<span class=\"m\">10</span>:21:01.923808 IP <span class=\"m\">10</span>.0.0.53.53743 &gt; <span class=\"m\">239</span>.255.76.67.7667: UDP, length <span class=\"m\">1038</span>\n<span class=\"m\">10</span>:21:01.955823 IP <span class=\"m\">10</span>.0.0.52.34324 &gt; <span class=\"m\">239</span>.255.76.67.7667: UDP, length <span class=\"m\">1420</span>\n<span class=\"m\">10</span>:21:01.955844 IP <span class=\"m\">10</span>.0.0.52.34324 &gt; <span class=\"m\">239</span>.255.76.67.7667: UDP, length <span class=\"m\">1028</span>\n</pre></div>\n\n\n<p>Add <code>and not ip multicast</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ sudo tcpdump -i bond0 <span class=\"s2\">&quot;(ip host (10.0.0.51 or 10.0.0.52 or 10.0.0.53) and not 10.0.0.50) and not ip multicast&quot;</span>\ntcpdump: verbose output suppressed, use -v or -vv <span class=\"k\">for</span> full protocol decode\nlistening on bond0, link-type EN10MB <span class=\"o\">(</span>Ethernet<span class=\"o\">)</span>, capture size <span class=\"m\">65535</span> bytes\n<span class=\"m\">10</span>:21:39.861898 IP <span class=\"m\">10</span>.0.0.53.ntp &gt; mighty.poclabs.net.ntp: NTPv4, Client, length <span class=\"m\">48</span>\n<span class=\"m\">10</span>:21:39.889722 IP mighty.poclabs.net.ntp &gt; <span class=\"m\">10</span>.0.0.53.ntp: NTPv4, Server, length <span class=\"m\">48</span>\n<span class=\"m\">10</span>:21:40.841784 IP <span class=\"m\">10</span>.0.0.52.9000 &gt; <span class=\"m\">11</span>.8.0.2.9001: UDP, length <span class=\"m\">8</span>\n<span class=\"m\">10</span>:21:42.974399 IP <span class=\"m\">10</span>.0.0.52.9000 &gt; <span class=\"m\">11</span>.8.0.2.9001: UDP, length <span class=\"m\">8</span>\n</pre></div>", "type": "rendered"}, "created_on": "2013-06-03T15:23:11.195440+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4318808}