{"links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/pullrequests/156/comments/850541.json"}, "html": {"href": "#!/osrf/cloudsim-legacy/pull-requests/156/_/diff#comment-850541"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 156, "links": {"self": {"href": "data/repositories/osrf/cloudsim-legacy/pullrequests/156.json"}, "html": {"href": "#!/osrf/cloudsim-legacy/pull-requests/156"}}, "title": "fixed the zipping issue, and added to the integration test"}, "content": {"raw": "I was trying to run the rest_integration_test.py and I got an EC2 exception.\n\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"tools/rest_integration_test.py\", line 320, in test\n    constellation_name=self.papa_cloudsim_name)\n  File \"/home/caguero/workspace/cloudsim/cloudsimd/launchers/cloudsim.py\", line 595, in create_cloudsim\n    basic_auth_password=password)\n  File \"/home/caguero/workspace/cloudsim/cloudsimd/launchers/cloudsim.py\", line 345, in launch\n    tags=tags)\n  File \"/home/caguero/workspace/cloudsim/cloudsimd/launchers/launch_utils/aws.py\", line 93, in acquire_aws_single_server\n    block_device_map=bdm)\n  File \"/usr/local/lib/python2.7/dist-packages/boto/ec2/connection.py\", line 722, in run_instances\n    verb='POST')\n  File \"/usr/local/lib/python2.7/dist-packages/boto/connection.py\", line 1062, in get_object\n    raise self.ResponseError(response.status, response.reason, body)\nEC2ResponseError: EC2ResponseError: 400 Bad Request\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<Response><Errors><Error><Code>AuthFailure</Code><Message>Not authorized for images: [ami-91e70ae6]</Message></Error></Errors><RequestID>fbfabf11-0347-447e-b49d-247691bb8f56</RequestID></Response>\n```\n\nIt seems that the AMI is not public.", "markup": "markdown", "html": "<p>I was trying to run the rest_integration_test.py and I got an EC2 exception.</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;tools/rest_integration_test.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">320</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">test</span>\n    <span class=\"n\">constellation_name</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">papa_cloudsim_name</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/home/caguero/workspace/cloudsim/cloudsimd/launchers/cloudsim.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">595</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">create_cloudsim</span>\n    <span class=\"n\">basic_auth_password</span><span class=\"o\">=</span><span class=\"n\">password</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/home/caguero/workspace/cloudsim/cloudsimd/launchers/cloudsim.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">345</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">launch</span>\n    <span class=\"n\">tags</span><span class=\"o\">=</span><span class=\"n\">tags</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/home/caguero/workspace/cloudsim/cloudsimd/launchers/launch_utils/aws.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">93</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">acquire_aws_single_server</span>\n    <span class=\"n\">block_device_map</span><span class=\"o\">=</span><span class=\"n\">bdm</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/usr/local/lib/python2.7/dist-packages/boto/ec2/connection.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">722</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">run_instances</span>\n    <span class=\"n\">verb</span><span class=\"o\">=</span><span class=\"s1\">&#39;POST&#39;</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/usr/local/lib/python2.7/dist-packages/boto/connection.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">1062</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">get_object</span>\n    <span class=\"k\">raise</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">ResponseError</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">status</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"o\">.</span><span class=\"n\">reason</span><span class=\"p\">,</span> <span class=\"n\">body</span><span class=\"p\">)</span>\n<span class=\"n\">EC2ResponseError</span><span class=\"p\">:</span> <span class=\"n\">EC2ResponseError</span><span class=\"p\">:</span> <span class=\"mi\">400</span> <span class=\"n\">Bad</span> <span class=\"n\">Request</span>\n<span class=\"o\">&lt;</span><span class=\"err\">?</span><span class=\"n\">xml</span> <span class=\"n\">version</span><span class=\"o\">=</span><span class=\"s2\">&quot;1.0&quot;</span> <span class=\"n\">encoding</span><span class=\"o\">=</span><span class=\"s2\">&quot;UTF-8&quot;</span><span class=\"err\">?</span><span class=\"o\">&gt;</span>\n<span class=\"o\">&lt;</span><span class=\"n\">Response</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">Errors</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">Error</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">Code</span><span class=\"o\">&gt;</span><span class=\"n\">AuthFailure</span><span class=\"o\">&lt;/</span><span class=\"n\">Code</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"n\">Not</span> <span class=\"n\">authorized</span> <span class=\"k\">for</span> <span class=\"n\">images</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">ami</span><span class=\"o\">-</span><span class=\"mf\">91e70</span><span class=\"n\">ae6</span><span class=\"p\">]</span><span class=\"o\">&lt;/</span><span class=\"n\">Message</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">Error</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">Errors</span><span class=\"o\">&gt;&lt;</span><span class=\"n\">RequestID</span><span class=\"o\">&gt;</span><span class=\"n\">fbfabf11</span><span class=\"o\">-</span><span class=\"mo\">0347</span><span class=\"o\">-</span><span class=\"mi\">447</span><span class=\"n\">e</span><span class=\"o\">-</span><span class=\"n\">b49d</span><span class=\"o\">-</span><span class=\"mi\">247691</span><span class=\"n\">bb8f56</span><span class=\"o\">&lt;/</span><span class=\"n\">RequestID</span><span class=\"o\">&gt;&lt;/</span><span class=\"n\">Response</span><span class=\"o\">&gt;</span>\n</pre></div>\n\n\n<p>It seems that the AMI is not public.</p>", "type": "rendered"}, "created_on": "2013-11-21T17:41:31.758008+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": "2013-11-21T17:41:31.772827+00:00", "type": "pullrequest_comment", "id": 850541}