{"pagelen": 50, "values": [{"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "466ee110cf18", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/466ee110cf18.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/466ee110cf18"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "Putting this PR on hold until after a bit of restructuring. See issue #33", "source": {"commit": {"hash": "f3d99ee37b2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/f3d99ee37b2d.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/f3d99ee37b2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "DECLINED", "author": {"display_name": "Nate Koenig", "uuid": "{c862cdd9-fcc8-4419-9fc7-e20db14b8fcb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D"}, "html": {"href": "https://bitbucket.org/%7Bc862cdd9-fcc8-4419-9fc7-e20db14b8fcb%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:095b1e12-74ed-4e20-b44f-2f0745b616e0/ca24bb11-4787-4b14-a20d-d91835e9bde2/128"}}, "nickname": "Nathan Koenig", "type": "user", "account_id": "557058:095b1e12-74ed-4e20-b44f-2f0745b616e0"}, "date": "2017-08-14T15:09:35.590265+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "458110f786c9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/458110f786c9.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/458110f786c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f3d99ee37b2d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/f3d99ee37b2d.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/f3d99ee37b2d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-29T00:45:15.476176+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41749432.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41749432"}}, "parent": {"id": 41659320, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "The manager still uses its own `simTime` a lot for the diagnostics. If we were to get it from the component every time, we'd have to add a few lines for every `this->dataPtr->simTime` currently in the code: \n\n~~~\n  auto rootEntity = this->database.Entity(1);\n  if (rootEntity == EntityNull)\n  {         \n    ignerr << \"Can't get sim time without the root entity\" << std::endl;\n    return; \n  }       \n\n  auto const *component = rootEntity.Component<components::TimeInfo>();\n\n  if (!component)\n  {     \n    ignerr << \"Root entity missing TimeInfo component\" << std::endl;\n    return;\n  }\n\n  auto simTime = component->simTime;\n~~~\n\nAm I missing something, or would this really be needed? If so, I'd propose we keep sim time in the manager for now and think of a less intrusive way of integrating diagnostics. What do you think?", "markup": "markdown", "html": "<p>The manager still uses its own <code>simTime</code> a lot for the diagnostics. If we were to get it from the component every time, we'd have to add a few lines for every <code>this-&gt;dataPtr-&gt;simTime</code> currently in the code: </p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">auto</span> <span class=\"nt\">rootEntity</span> <span class=\"o\">=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">database</span><span class=\"p\">.</span><span class=\"nc\">Entity</span><span class=\"o\">(</span><span class=\"nt\">1</span><span class=\"o\">);</span>\n  <span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">rootEntity</span> <span class=\"o\">==</span> <span class=\"nt\">EntityNull</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span>         \n    <span class=\"err\">ignerr</span> <span class=\"err\">&lt;&lt;</span> <span class=\"err\">&quot;Can&#39;t</span> <span class=\"err\">get</span> <span class=\"err\">sim</span> <span class=\"err\">time</span> <span class=\"err\">without</span> <span class=\"err\">the</span> <span class=\"err\">root</span> <span class=\"err\">entity&quot;</span> <span class=\"err\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n    <span class=\"err\">return</span><span class=\"p\">;</span> \n  <span class=\"p\">}</span>       \n\n  <span class=\"nt\">auto</span> <span class=\"nt\">const</span> <span class=\"o\">*</span><span class=\"nt\">component</span> <span class=\"o\">=</span> <span class=\"nt\">rootEntity</span><span class=\"p\">.</span><span class=\"nc\">Component</span><span class=\"o\">&lt;</span><span class=\"nt\">components</span><span class=\"p\">::</span><span class=\"nd\">TimeInfo</span><span class=\"o\">&gt;();</span>\n\n  <span class=\"nt\">if</span> <span class=\"o\">(!</span><span class=\"nt\">component</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span>     \n    <span class=\"err\">ignerr</span> <span class=\"err\">&lt;&lt;</span> <span class=\"err\">&quot;Root</span> <span class=\"err\">entity</span> <span class=\"err\">missing</span> <span class=\"err\">TimeInfo</span> <span class=\"err\">component&quot;</span> <span class=\"err\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n    <span class=\"err\">return</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nt\">auto</span> <span class=\"nt\">simTime</span> <span class=\"o\">=</span> <span class=\"nt\">component-</span><span class=\"o\">&gt;</span><span class=\"nt\">simTime</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>Am I missing something, or would this really be needed? If so, I'd propose we keep sim time in the manager for now and think of a less intrusive way of integrating diagnostics. What do you think?</p>", "type": "rendered"}, "created_on": "2017-07-28T18:37:28.333161+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-28T18:37:28.336784+00:00", "type": "pullrequest_comment", "id": 41749432}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660147.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660147"}}, "parent": {"id": 41660104, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660104.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660104"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "And the manager is also responsible for keeping real time... right now...", "markup": "markdown", "html": "<p>And the manager is also responsible for keeping real time... right now...</p>", "type": "rendered"}, "created_on": "2017-07-27T17:38:49.250753+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:38:49.253097+00:00", "type": "pullrequest_comment", "id": 41660147}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660104.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660104"}}, "parent": {"id": 41659320, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "That's the part which is fuzzy to me still, if you look at the physics system, it is currently getting the time from the manager", "markup": "markdown", "html": "<p>That's the part which is fuzzy to me still, if you look at the physics system, it is currently getting the time from the manager</p>", "type": "rendered"}, "created_on": "2017-07-27T17:38:22.583684+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:38:22.586036+00:00", "type": "pullrequest_comment", "id": 41660104}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660003.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660003"}}, "parent": {"id": 41659544, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659544.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659544"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Got it, removed 14cfbb1", "markup": "markdown", "html": "<p>Got it, removed <a href=\"#!/osrf/gazebo_experimental/commits/14cfbb1\" rel=\"nofollow\" class=\"ap-connect-link\">14cfbb1</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:36:44.071967+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:36:44.075085+00:00", "type": "pullrequest_comment", "id": 41660003}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "458110f786c9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/458110f786c9.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/458110f786c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "35c314ee2687", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/35c314ee2687.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/35c314ee2687"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-27T17:36:20.272340+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659544.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659544"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "I think this might be a common occurrence, and not worthy of a warning. For example two systems might have a query for `TimeInfo`. The duplicate check is really an internal detail, systems get the same list of entities rather than the list being made twice.", "markup": "markdown", "html": "<p>I think this might be a common occurrence, and not worthy of a warning. For example two systems might have a query for <code>TimeInfo</code>. The duplicate check is really an internal detail, systems get the same list of entities rather than the list being made twice.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:30:10.830275+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-07-27T17:30:10.833029+00:00", "type": "pullrequest_comment", "id": 41659544}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Is this still needed now that time is on a component?", "markup": "markdown", "html": "<p>Is this still needed now that time is on a component?</p>", "type": "rendered"}, "created_on": "2017-07-27T17:26:41.774965+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-07-27T17:26:41.778000+00:00", "type": "pullrequest_comment", "id": 41659320}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "458110f786c9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/458110f786c9.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/458110f786c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e410a3d69991", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/e410a3d69991.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/e410a3d69991"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-27T17:20:01.324421+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "458110f786c9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/458110f786c9.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/458110f786c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "712eb1aea868", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/712eb1aea868.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/712eb1aea868"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-27T17:19:46.666946+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "458110f786c9", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/458110f786c9.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/458110f786c9"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "712eb1aea868", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/712eb1aea868.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/712eb1aea868"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-27T17:19:46.630500+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658591.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658591"}}, "parent": {"id": 41653460, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653460.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653460"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Good call, done 712eb1a", "markup": "markdown", "html": "<p>Good call, done <a href=\"#!/osrf/gazebo_experimental/commits/712eb1a\" rel=\"nofollow\" class=\"ap-connect-link\">712eb1a</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:16:02.883732+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:16:02.886556+00:00", "type": "pullrequest_comment", "id": 41658591}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658562.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658562"}}, "parent": {"id": 41653696, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Voil\u00e0 712eb1a", "markup": "markdown", "html": "<p>Voil\u00e0 <a href=\"#!/osrf/gazebo_experimental/commits/712eb1a\" rel=\"nofollow\" class=\"ap-connect-link\">712eb1a</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:15:47.242367+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:15:47.244904+00:00", "type": "pullrequest_comment", "id": 41658562}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "712eb1aea868", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/712eb1aea868.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/712eb1aea868"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-27T17:15:27.184200+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658305.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658305"}}, "parent": {"id": 41658214, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658214.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658214"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Oh that part is not intentional :) And I think it will fix the problem I'm having in addressing your other comment, thanks!", "markup": "markdown", "html": "<p>Oh that part is not intentional :) And I think it will fix the problem I'm having in addressing your other comment, thanks!</p>", "type": "rendered"}, "created_on": "2017-07-27T17:12:20.544229+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T17:12:20.547803+00:00", "type": "pullrequest_comment", "id": 41658305}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658214.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658214"}}, "parent": {"id": 41656484, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41656484.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41656484"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Ohhhh I see it now, it is a separate UpdateTime callback. Reusing `configQuery` means UpdateTime is called with all entities that have both `PhysicsConfig` and `TimeInfo`. Is that intentional?", "markup": "markdown", "html": "<p>Ohhhh I see it now, it is a separate UpdateTime callback. Reusing <code>configQuery</code> means UpdateTime is called with all entities that have both <code>PhysicsConfig</code> and <code>TimeInfo</code>. Is that intentional?</p>", "type": "rendered"}, "created_on": "2017-07-27T17:11:01.367591+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-07-27T17:11:01.371234+00:00", "type": "pullrequest_comment", "id": 41658214}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41656484.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41656484"}}, "parent": {"id": 41653696, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Wait... humm... I thought I was creating a separate query tied to the `UpdateTime` callback. I think my terminology is just mixed up", "markup": "markdown", "html": "<p>Wait... humm... I thought I was creating a separate query tied to the <code>UpdateTime</code> callback. I think my terminology is just mixed up</p>", "type": "rendered"}, "created_on": "2017-07-27T16:46:44.788031+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {}, "updated_on": "2017-07-27T16:46:44.791399+00:00", "type": "pullrequest_comment", "id": 41656484}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "separate query for time? `PhysicsSystem` doesn't support it, but it's possible to have multiple `<physics>` blocks in sdformat", "markup": "markdown", "html": "<p>separate query for time? <code>PhysicsSystem</code> doesn't support it, but it's possible to have multiple <code>&lt;physics&gt;</code> blocks in sdformat</p>", "type": "rendered"}, "created_on": "2017-07-27T16:13:24.175988+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-07-27T16:13:24.179519+00:00", "type": "pullrequest_comment", "id": 41653696}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653460.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653460"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "If the intent is to only have one entity with `TimeInfo`, I think it'd be better to create it when the `world` tag comes up. `sdformat` allows multiple named `<physics>` blocks.", "markup": "markdown", "html": "<p>If the intent is to only have one entity with <code>TimeInfo</code>, I think it'd be better to create it when the <code>world</code> tag comes up. <code>sdformat</code> allows multiple named <code>&lt;physics&gt;</code> blocks.</p>", "type": "rendered"}, "created_on": "2017-07-27T16:10:56.036880+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {}, "updated_on": "2017-07-27T16:10:56.039443+00:00", "type": "pullrequest_comment", "id": 41653460}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[Read for review] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "63c63451138d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/63c63451138d.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/63c63451138d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T20:49:12.162784+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41579910.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41579910"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Moved the logic to a dedicated `TimeSystem` which has an ignition transport interface to `ignition::gui::plugins::TimePanel`.\n\nReady for review again!", "markup": "markdown", "html": "<p>Moved the logic to a dedicated <code>TimeSystem</code> which has an ignition transport interface to <code>ignition::gui::plugins::TimePanel</code>.</p>\n<p>Ready for review again!</p>", "type": "rendered"}, "created_on": "2017-07-26T20:48:53.501396+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-26T20:48:53.503954+00:00", "type": "pullrequest_comment", "id": 41579910}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes time on `/world_stats`\r\n* `TimeSystem` offers a service on `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n* Added real time to `ecs::Manager`\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* ~~I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?~~\r\n* ~~Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?~~\r\n* ~~Was there already a source of real time which I didn't find?~~\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[WIP] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "63c63451138d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/63c63451138d.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/63c63451138d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T20:37:30.231826+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes on `/world_stats` and subscribes to `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n\r\n~~\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n~~\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[WIP] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "63c63451138d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/63c63451138d.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/63c63451138d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T20:08:36.159798+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes on `/world_stats` and subscribes to `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n\r\n~~\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n~~\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[WIP] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "213dca4db997", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/213dca4db997.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/213dca4db997"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T19:56:46.447496+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Add a `TimeSystem` which handles `TimeInfo` components\r\n* `TimeSystem` publishes on `/world_stats` and subscribes to `/world_control`\r\n* `PhysicsSystem` updates the `TimeInfo` component\r\n* Gazebo will use a `TimePanel` plugin provided by Ignition GUI\r\n\r\n~~\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n~~\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[WIP] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0197f1e408e6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/0197f1e408e6.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/0197f1e408e6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T02:48:17.628041+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "[WIP] Time system", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0197f1e408e6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/0197f1e408e6.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/0197f1e408e6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T02:43:57.519543+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "Time panel: rev 1", "destination": {"commit": {"hash": "1224e3aeba19", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/1224e3aeba19.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/1224e3aeba19"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0197f1e408e6", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/0197f1e408e6.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/0197f1e408e6"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-26T02:43:11.921459+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "Time panel: rev 1", "destination": {"commit": {"hash": "ccc281db7c8c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/ccc281db7c8c.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/ccc281db7c8c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "00de25673a36", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/00de25673a36.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/00de25673a36"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-20T17:02:52.931049+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41108638.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41108638"}}, "parent": {"id": 41106746, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41106746.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41106746"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Would it make sense to have a `TimeManagerSystem` whose jobs are:\n\n* Publish sim and real time\n* Manage requests to play/pause/step/reset\n\n\n", "markup": "markdown", "html": "<p>Would it make sense to have a <code>TimeManagerSystem</code> whose jobs are:</p>\n<ul>\n<li>Publish sim and real time</li>\n<li>Manage requests to play/pause/step/reset</li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-19T21:23:16.310971+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-19T21:23:16.313403+00:00", "type": "pullrequest_comment", "id": 41108638}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41106746.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41106746"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "* `I assume the ecs::Manager is the authority on time, should it be publishing on /world_stats instead of getting this info from diagnostics?`\n    * In `default` the manager is the authority on time. In pull request #43 the database is the authority. +1 to publishing time on a different topic\n* `Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?`\n    * +1 to a `TimePublisherSystem` or `WorldStatsPublisherSystem`. I think having many small systems will be easier to maintain than having a lot of code in the core. Putting it into a system means all the code required to do the task is in one spot, and having small systems means there isn't extra code to sift through.\n* `Was there already a source of real time which I didn't find?`\n    * Nope :(", "markup": "markdown", "html": "<ul>\n<li><code>I assume the ecs::Manager is the authority on time, should it be publishing on /world_stats instead of getting this info from diagnostics?</code><ul>\n<li>In <code>default</code> the manager is the authority on time. In <a href=\"#!/osrf/gazebo_experimental/pull-requests/43/manager-handle-to-access-entities-and\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #43</a> the database is the authority. +1 to publishing time on a different topic</li>\n</ul>\n</li>\n<li><code>Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?</code><ul>\n<li>+1 to a <code>TimePublisherSystem</code> or <code>WorldStatsPublisherSystem</code>. I think having many small systems will be easier to maintain than having a lot of code in the core. Putting it into a system means all the code required to do the task is in one spot, and having small systems means there isn't extra code to sift through.</li>\n</ul>\n</li>\n<li><code>Was there already a source of real time which I didn't find?</code><ul>\n<li>Nope :(</li>\n</ul>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-19T20:53:49.096001+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-07-19T20:53:49.098477+00:00", "type": "pullrequest_comment", "id": 41106746}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "Time panel: rev 1", "destination": {"commit": {"hash": "ccc281db7c8c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/ccc281db7c8c.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/ccc281db7c8c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4ac03114a070", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/4ac03114a070.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/4ac03114a070"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-19T19:15:58.434890+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}, {"update": {"description": "First revision of a time panel, builds on top of pull request #44 but I can make a new branch off default if needed.\r\n\r\n## Features\r\n\r\n* Display sim time published by `DiagnosticsManager`\r\n* Added real time to `DiagnosticsManager` and display it\r\n* Added `ecs::Manager::WorldControlService` to handle play/pause and buttons which trigger the service\r\n\r\n![timepanel.gif](https://bitbucket.org/repo/baqryA7/images/159706074-timepanel.gif)\r\n\r\n## Known issues\r\n\r\n* Play / pause seems to work fine just with the diagnostics window, but if I run `dummy_demo` and images start being published on the image display widget, then pause, the UI gets stuck. I haven't investigated.\r\n\r\n* There are no tests because QTest will have to be integrated first, still need to figure out how that will work.\r\n\r\n* Pause is not affecting real time, I didn't want to implement a lot of things for real time before getting feedback on the questions below.\r\n\r\n## Questions\r\n\r\nI didn't want to go too far before getting feedback on this. Some questions:\r\n\r\n* I assume the `ecs::Manager` is the authority on time, should it be publishing on `/world_stats` instead of getting this info from diagnostics?\r\n* Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?\r\n* Was there already a source of real time which I didn't find?\r\n\r\nAny other tips which could clarify how reset and step could be implemented are very welcome :smile:", "title": "Time panel: rev 1", "destination": {"commit": {"hash": "ccc281db7c8c", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/ccc281db7c8c.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/ccc281db7c8c"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4ac03114a070", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/commit/4ac03114a070.json"}, "html": {"href": "#!/osrf/gazebo_experimental/commits/4ac03114a070"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental.json"}, "html": {"href": "#!/osrf/gazebo_experimental"}, "avatar": {"href": "data/bytebucket.org/ravatar/{bc79acda-fe93-46b4-96a4-f1603142a10a}ts=c_plus_plus"}}, "type": "repository", "name": "gazebo_experimental", "full_name": "osrf/gazebo_experimental", "uuid": "{bc79acda-fe93-46b4-96a4-f1603142a10a}"}, "branch": {"name": "time_panel"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-07-19T19:15:58.399501+00:00"}, "pull_request": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}}]}