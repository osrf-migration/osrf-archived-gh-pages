{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41106746.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41106746"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "* `I assume the ecs::Manager is the authority on time, should it be publishing on /world_stats instead of getting this info from diagnostics?`\n    * In `default` the manager is the authority on time. In pull request #43 the database is the authority. +1 to publishing time on a different topic\n* `Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?`\n    * +1 to a `TimePublisherSystem` or `WorldStatsPublisherSystem`. I think having many small systems will be easier to maintain than having a lot of code in the core. Putting it into a system means all the code required to do the task is in one spot, and having small systems means there isn't extra code to sift through.\n* `Was there already a source of real time which I didn't find?`\n    * Nope :(", "markup": "markdown", "html": "<ul>\n<li><code>I assume the ecs::Manager is the authority on time, should it be publishing on /world_stats instead of getting this info from diagnostics?</code><ul>\n<li>In <code>default</code> the manager is the authority on time. In <a href=\"#!/osrf/gazebo_experimental/pull-requests/43/manager-handle-to-access-entities-and\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #43</a> the database is the authority. +1 to publishing time on a different topic</li>\n</ul>\n</li>\n<li><code>Maybe it's a bad idea to add the world control service to the manager and this should be done from a system?</code><ul>\n<li>+1 to a <code>TimePublisherSystem</code> or <code>WorldStatsPublisherSystem</code>. I think having many small systems will be easier to maintain than having a lot of code in the core. Putting it into a system means all the code required to do the task is in one spot, and having small systems means there isn't extra code to sift through.</li>\n</ul>\n</li>\n<li><code>Was there already a source of real time which I didn't find?</code><ul>\n<li>Nope :(</li>\n</ul>\n</li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-19T20:53:49.096001+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "updated_on": "2017-07-19T20:53:49.098477+00:00", "type": "pullrequest_comment", "id": 41106746}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41108638.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41108638"}}, "parent": {"id": 41106746, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41106746.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41106746"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Would it make sense to have a `TimeManagerSystem` whose jobs are:\n\n* Publish sim and real time\n* Manage requests to play/pause/step/reset\n\n\n", "markup": "markdown", "html": "<p>Would it make sense to have a <code>TimeManagerSystem</code> whose jobs are:</p>\n<ul>\n<li>Publish sim and real time</li>\n<li>Manage requests to play/pause/step/reset</li>\n</ul>", "type": "rendered"}, "created_on": "2017-07-19T21:23:16.310971+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-19T21:23:16.313403+00:00", "type": "pullrequest_comment", "id": 41108638}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41579910.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41579910"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Moved the logic to a dedicated `TimeSystem` which has an ignition transport interface to `ignition::gui::plugins::TimePanel`.\n\nReady for review again!", "markup": "markdown", "html": "<p>Moved the logic to a dedicated <code>TimeSystem</code> which has an ignition transport interface to <code>ignition::gui::plugins::TimePanel</code>.</p>\n<p>Ready for review again!</p>", "type": "rendered"}, "created_on": "2017-07-26T20:48:53.501396+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-26T20:48:53.503954+00:00", "type": "pullrequest_comment", "id": 41579910}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653460.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:63c63451138d..1224e3aeba19?path=src%2Fcomponentizers%2FCZTimeInfo.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653460"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "If the intent is to only have one entity with `TimeInfo`, I think it'd be better to create it when the `world` tag comes up. `sdformat` allows multiple named `<physics>` blocks.", "markup": "markdown", "html": "<p>If the intent is to only have one entity with <code>TimeInfo</code>, I think it'd be better to create it when the <code>world</code> tag comes up. <code>sdformat</code> allows multiple named <code>&lt;physics&gt;</code> blocks.</p>", "type": "rendered"}, "created_on": "2017-07-27T16:10:56.036880+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": 49, "from": null, "path": "src/componentizers/CZTimeInfo.cc"}, "updated_on": "2017-07-27T16:10:56.039443+00:00", "type": "pullrequest_comment", "id": 41653460}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658591.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:e410a3d69991..458110f786c9?path=src%2Fcomponentizers%2FCZTimeInfo.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658591"}}, "parent": {"id": 41653460, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653460.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653460"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Good call, done 712eb1a", "markup": "markdown", "html": "<p>Good call, done <a href=\"#!/osrf/gazebo_experimental/commits/712eb1a\" rel=\"nofollow\" class=\"ap-connect-link\">712eb1a</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:16:02.883732+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/componentizers/CZTimeInfo.cc"}, "updated_on": "2017-07-27T17:16:02.886556+00:00", "type": "pullrequest_comment", "id": 41658591}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:63c63451138d..1224e3aeba19?path=src%2Fsystems%2Fphysics%2FPhysicsSystem.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "separate query for time? `PhysicsSystem` doesn't support it, but it's possible to have multiple `<physics>` blocks in sdformat", "markup": "markdown", "html": "<p>separate query for time? <code>PhysicsSystem</code> doesn't support it, but it's possible to have multiple <code>&lt;physics&gt;</code> blocks in sdformat</p>", "type": "rendered"}, "created_on": "2017-07-27T16:13:24.175988+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": 50, "from": null, "path": "src/systems/physics/PhysicsSystem.cc"}, "updated_on": "2017-07-27T16:13:24.179519+00:00", "type": "pullrequest_comment", "id": 41653696}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41656484.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:63c63451138d..1224e3aeba19?path=src%2Fsystems%2Fphysics%2FPhysicsSystem.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41656484"}}, "parent": {"id": 41653696, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Wait... humm... I thought I was creating a separate query tied to the `UpdateTime` callback. I think my terminology is just mixed up", "markup": "markdown", "html": "<p>Wait... humm... I thought I was creating a separate query tied to the <code>UpdateTime</code> callback. I think my terminology is just mixed up</p>", "type": "rendered"}, "created_on": "2017-07-27T16:46:44.788031+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/systems/physics/PhysicsSystem.cc"}, "updated_on": "2017-07-27T16:46:44.791399+00:00", "type": "pullrequest_comment", "id": 41656484}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658214.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:63c63451138d..1224e3aeba19?path=src%2Fsystems%2Fphysics%2FPhysicsSystem.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658214"}}, "parent": {"id": 41656484, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41656484.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41656484"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Ohhhh I see it now, it is a separate UpdateTime callback. Reusing `configQuery` means UpdateTime is called with all entities that have both `PhysicsConfig` and `TimeInfo`. Is that intentional?", "markup": "markdown", "html": "<p>Ohhhh I see it now, it is a separate UpdateTime callback. Reusing <code>configQuery</code> means UpdateTime is called with all entities that have both <code>PhysicsConfig</code> and <code>TimeInfo</code>. Is that intentional?</p>", "type": "rendered"}, "created_on": "2017-07-27T17:11:01.367591+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": null, "from": null, "path": "src/systems/physics/PhysicsSystem.cc"}, "updated_on": "2017-07-27T17:11:01.371234+00:00", "type": "pullrequest_comment", "id": 41658214}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658305.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:63c63451138d..1224e3aeba19?path=src%2Fsystems%2Fphysics%2FPhysicsSystem.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658305"}}, "parent": {"id": 41658214, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658214.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658214"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Oh that part is not intentional :) And I think it will fix the problem I'm having in addressing your other comment, thanks!", "markup": "markdown", "html": "<p>Oh that part is not intentional :) And I think it will fix the problem I'm having in addressing your other comment, thanks!</p>", "type": "rendered"}, "created_on": "2017-07-27T17:12:20.544229+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/systems/physics/PhysicsSystem.cc"}, "updated_on": "2017-07-27T17:12:20.547803+00:00", "type": "pullrequest_comment", "id": 41658305}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41658562.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:e410a3d69991..458110f786c9?path=src%2Fsystems%2Fphysics%2FPhysicsSystem.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41658562"}}, "parent": {"id": 41653696, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41653696.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41653696"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Voil\u00e0 712eb1a", "markup": "markdown", "html": "<p>Voil\u00e0 <a href=\"#!/osrf/gazebo_experimental/commits/712eb1a\" rel=\"nofollow\" class=\"ap-connect-link\">712eb1a</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:15:47.242367+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/systems/physics/PhysicsSystem.cc"}, "updated_on": "2017-07-27T17:15:47.244904+00:00", "type": "pullrequest_comment", "id": 41658562}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:e410a3d69991..458110f786c9?path=src%2Fecs%2FManager.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Is this still needed now that time is on a component?", "markup": "markdown", "html": "<p>Is this still needed now that time is on a component?</p>", "type": "rendered"}, "created_on": "2017-07-27T17:26:41.774965+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": null, "from": 71, "path": "src/ecs/Manager.cc"}, "updated_on": "2017-07-27T17:26:41.778000+00:00", "type": "pullrequest_comment", "id": 41659320}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660104.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:f3d99ee37b2d..466ee110cf18?path=src%2Fecs%2FManager.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660104"}}, "parent": {"id": 41659320, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "That's the part which is fuzzy to me still, if you look at the physics system, it is currently getting the time from the manager", "markup": "markdown", "html": "<p>That's the part which is fuzzy to me still, if you look at the physics system, it is currently getting the time from the manager</p>", "type": "rendered"}, "created_on": "2017-07-27T17:38:22.583684+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/ecs/Manager.cc"}, "updated_on": "2017-07-27T17:38:22.586036+00:00", "type": "pullrequest_comment", "id": 41660104}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660147.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:f3d99ee37b2d..466ee110cf18?path=src%2Fecs%2FManager.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660147"}}, "parent": {"id": 41660104, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660104.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660104"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "And the manager is also responsible for keeping real time... right now...", "markup": "markdown", "html": "<p>And the manager is also responsible for keeping real time... right now...</p>", "type": "rendered"}, "created_on": "2017-07-27T17:38:49.250753+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/ecs/Manager.cc"}, "updated_on": "2017-07-27T17:38:49.253097+00:00", "type": "pullrequest_comment", "id": 41660147}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41749432.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:f3d99ee37b2d..466ee110cf18?path=src%2Fecs%2FManager.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41749432"}}, "parent": {"id": 41659320, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659320.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659320"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "The manager still uses its own `simTime` a lot for the diagnostics. If we were to get it from the component every time, we'd have to add a few lines for every `this->dataPtr->simTime` currently in the code: \n\n~~~\n  auto rootEntity = this->database.Entity(1);\n  if (rootEntity == EntityNull)\n  {         \n    ignerr << \"Can't get sim time without the root entity\" << std::endl;\n    return; \n  }       \n\n  auto const *component = rootEntity.Component<components::TimeInfo>();\n\n  if (!component)\n  {     \n    ignerr << \"Root entity missing TimeInfo component\" << std::endl;\n    return;\n  }\n\n  auto simTime = component->simTime;\n~~~\n\nAm I missing something, or would this really be needed? If so, I'd propose we keep sim time in the manager for now and think of a less intrusive way of integrating diagnostics. What do you think?", "markup": "markdown", "html": "<p>The manager still uses its own <code>simTime</code> a lot for the diagnostics. If we were to get it from the component every time, we'd have to add a few lines for every <code>this-&gt;dataPtr-&gt;simTime</code> currently in the code: </p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"nt\">auto</span> <span class=\"nt\">rootEntity</span> <span class=\"o\">=</span> <span class=\"nt\">this-</span><span class=\"o\">&gt;</span><span class=\"nt\">database</span><span class=\"p\">.</span><span class=\"nc\">Entity</span><span class=\"o\">(</span><span class=\"nt\">1</span><span class=\"o\">);</span>\n  <span class=\"nt\">if</span> <span class=\"o\">(</span><span class=\"nt\">rootEntity</span> <span class=\"o\">==</span> <span class=\"nt\">EntityNull</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span>         \n    <span class=\"err\">ignerr</span> <span class=\"err\">&lt;&lt;</span> <span class=\"err\">&quot;Can&#39;t</span> <span class=\"err\">get</span> <span class=\"err\">sim</span> <span class=\"err\">time</span> <span class=\"err\">without</span> <span class=\"err\">the</span> <span class=\"err\">root</span> <span class=\"err\">entity&quot;</span> <span class=\"err\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n    <span class=\"err\">return</span><span class=\"p\">;</span> \n  <span class=\"p\">}</span>       \n\n  <span class=\"nt\">auto</span> <span class=\"nt\">const</span> <span class=\"o\">*</span><span class=\"nt\">component</span> <span class=\"o\">=</span> <span class=\"nt\">rootEntity</span><span class=\"p\">.</span><span class=\"nc\">Component</span><span class=\"o\">&lt;</span><span class=\"nt\">components</span><span class=\"p\">::</span><span class=\"nd\">TimeInfo</span><span class=\"o\">&gt;();</span>\n\n  <span class=\"nt\">if</span> <span class=\"o\">(!</span><span class=\"nt\">component</span><span class=\"o\">)</span>\n  <span class=\"p\">{</span>     \n    <span class=\"err\">ignerr</span> <span class=\"err\">&lt;&lt;</span> <span class=\"err\">&quot;Root</span> <span class=\"err\">entity</span> <span class=\"err\">missing</span> <span class=\"err\">TimeInfo</span> <span class=\"err\">component&quot;</span> <span class=\"err\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"p\">:</span><span class=\"o\">:</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n    <span class=\"err\">return</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nt\">auto</span> <span class=\"nt\">simTime</span> <span class=\"o\">=</span> <span class=\"nt\">component-</span><span class=\"o\">&gt;</span><span class=\"nt\">simTime</span><span class=\"o\">;</span>\n</pre></div>\n\n\n<p>Am I missing something, or would this really be needed? If so, I'd propose we keep sim time in the manager for now and think of a less intrusive way of integrating diagnostics. What do you think?</p>", "type": "rendered"}, "created_on": "2017-07-28T18:37:28.333161+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/ecs/Manager.cc"}, "updated_on": "2017-07-28T18:37:28.336784+00:00", "type": "pullrequest_comment", "id": 41749432}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659544.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:e410a3d69991..458110f786c9?path=src%2Fecs%2FEntityComponentDatabase.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659544"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "I think this might be a common occurrence, and not worthy of a warning. For example two systems might have a query for `TimeInfo`. The duplicate check is really an internal detail, systems get the same list of entities rather than the list being made twice.", "markup": "markdown", "html": "<p>I think this might be a common occurrence, and not worthy of a warning. For example two systems might have a query for <code>TimeInfo</code>. The duplicate check is really an internal detail, systems get the same list of entities rather than the list being made twice.</p>", "type": "rendered"}, "created_on": "2017-07-27T17:30:10.830275+00:00", "user": {"display_name": "Shane Loretz", "uuid": "{656e3311-aad9-45a1-aaf7-b0ee0e84b287}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D"}, "html": {"href": "https://bitbucket.org/%7B656e3311-aad9-45a1-aaf7-b0ee0e84b287%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:684383ab-ac95-4859-a350-4a6f41a94a22/c7a1ebf5-cade-4115-9f26-9d3facb776db/128"}}, "nickname": "Shane Loretz", "type": "user", "account_id": "557058:684383ab-ac95-4859-a350-4a6f41a94a22"}, "inline": {"to": 149, "from": null, "path": "src/ecs/EntityComponentDatabase.cc"}, "updated_on": "2017-07-27T17:30:10.833029+00:00", "type": "pullrequest_comment", "id": 41659544}, {"links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41660003.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/gazebo_experimental/diff/osrf/gazebo_experimental:f3d99ee37b2d..466ee110cf18?path=src%2Fecs%2FEntityComponentDatabase.cc"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41660003"}}, "parent": {"id": 41659544, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45/comments/41659544.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45/_/diff#comment-41659544"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 45, "links": {"self": {"href": "data/repositories/osrf/gazebo_experimental/pullrequests/45.json"}, "html": {"href": "#!/osrf/gazebo_experimental/pull-requests/45"}}, "title": "[Read for review] Time system"}, "content": {"raw": "Got it, removed 14cfbb1", "markup": "markdown", "html": "<p>Got it, removed <a href=\"#!/osrf/gazebo_experimental/commits/14cfbb1\" rel=\"nofollow\" class=\"ap-connect-link\">14cfbb1</a></p>", "type": "rendered"}, "created_on": "2017-07-27T17:36:44.071967+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": null, "from": null, "path": "src/ecs/EntityComponentDatabase.cc"}, "updated_on": "2017-07-27T17:36:44.075085+00:00", "type": "pullrequest_comment", "id": 41660003}], "page": 1, "size": 16}