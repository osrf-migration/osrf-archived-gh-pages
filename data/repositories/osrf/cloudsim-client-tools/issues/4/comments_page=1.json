{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4164437.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4164437"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "@_jrivero_  : could you look into this, trying to sneak around the bytecounter?", "markup": "markdown", "html": "<p>@<em>jrivero</em>  : could you look into this, trying to sneak around the bytecounter?</p>", "type": "rendered"}, "created_on": "2013-05-21T17:03:49.945165+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4164437}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4164588.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4164588"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "Good point.\n\nI'm working on some auto test for the issue, both multicast and broadcast.", "markup": "markdown", "html": "<p>Good point.</p>\n<p>I'm working on some auto test for the issue, both multicast and broadcast.</p>", "type": "rendered"}, "created_on": "2013-05-21T17:22:08.458660+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 4164588}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4166623.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4166623"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "After some research I'm starting to doubt that our current openvpn set up allow broadcasting/multicasting. All my manual tests (python, tcpdump) have failed both for multicasting and broadcasting. I starting to believe that broadcast packets are not routable, so they can not go from 11.8.0.x to 10.0.0.x.\n\nI'm very far from being an vpn expert, so I could be missing something. Some points of interest:\n\nI would say the OCU is under a \"routed\" (not briged) configuration, which is not recommended for [broadcasting](http://openvpn.net/index.php/open-source/documentation/howto.html#vpntype). I can not find the way of sending a broadcast message for the virtual point-to-point tun device of OCU.\n\nA member of openvpn forum team [reminds](https://forums.openvpn.net/topic12376.html#p28311) remind that:\n\n```\nremind you that tun is a layer 3 device which DONT forward broadcast/multicast packets.\n```\nI need to be sure that there is no way of configuring over the vpn to set up OCU as part of 10.0.0.x.\n\n@gerkey Does all this sound reasonable?", "markup": "markdown", "html": "<p>After some research I'm starting to doubt that our current openvpn set up allow broadcasting/multicasting. All my manual tests (python, tcpdump) have failed both for multicasting and broadcasting. I starting to believe that broadcast packets are not routable, so they can not go from 11.8.0.x to 10.0.0.x.</p>\n<p>I'm very far from being an vpn expert, so I could be missing something. Some points of interest:</p>\n<p>I would say the OCU is under a \"routed\" (not briged) configuration, which is not recommended for <a data-is-external-link=\"true\" href=\"http://openvpn.net/index.php/open-source/documentation/howto.html#vpntype\" rel=\"nofollow\">broadcasting</a>. I can not find the way of sending a broadcast message for the virtual point-to-point tun device of OCU.</p>\n<p>A member of openvpn forum team <a data-is-external-link=\"true\" href=\"https://forums.openvpn.net/topic12376.html#p28311\" rel=\"nofollow\">reminds</a> remind that:</p>\n<div class=\"codehilite\"><pre><span></span>remind you that tun is a layer 3 device which DONT forward broadcast/multicast packets.\n</pre></div>\n\n\n<p>I need to be sure that there is no way of configuring over the vpn to set up OCU as part of 10.0.0.x.</p>\n<p>@gerkey Does all this sound reasonable?</p>", "type": "rendered"}, "created_on": "2013-05-21T20:33:44.925101+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 4166623}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4166991.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4166991"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "As far as I know the routers never forward broadcast but it might be possible to forward multicast. I believe it depends on the configuration of the network cards on the machines and probably on the configuration on the router. We should take a look at the multicast...", "markup": "markdown", "html": "<p>As far as I know the routers never forward broadcast but it might be possible to forward multicast. I believe it depends on the configuration of the network cards on the machines and probably on the configuration on the router. We should take a look at the multicast...</p>", "type": "rendered"}, "created_on": "2013-05-21T21:10:28.255825+00:00", "user": {"display_name": "Carlos Ag\u00fcero", "uuid": "{da8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D"}, "html": {"href": "https://bitbucket.org/%7Bda8a8e89-4bb0-421b-bd0e-dbbed3d4ed6a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/692bf15758111acaddae4da15a47f9e5d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCA-0.png"}}, "nickname": "caguero", "type": "user", "account_id": "557058:4ded1ddf-947e-4154-bbd1-3dba24f1bdbd"}, "updated_on": null, "type": "issue_comment", "id": 4166991}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4167757.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4167757"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "You are probably right, Carlos. multicast seems to be [possible](https://community.openvpn.net/openvpn/ticket/79) using \"routing\" VPNs. There were also some problems for layout like ours [reported](http://openvpn.net/archive/openvpn-devel/2004-04/msg00032.html) long time ago. Anyway, I probably did something wrong while setting it up:\n\n * Enable ip forwarding on machines\n * Add the multicast route to both machines (fields and OCU)\n\nCould iptables be preventing the multicast traffic in any way on the constellation?\n\nI have the automatic script [upload_multicast_data.sh](https://bitbucket.org/_jrivero_/testing_tools/src/90f6e870fe9308843269e0fccb7a8c21eca110e6/vrc_net_traffic?at=default) ready for testing the uploading multicast. Use it if you find it useful.", "markup": "markdown", "html": "<p>You are probably right, Carlos. multicast seems to be <a data-is-external-link=\"true\" href=\"https://community.openvpn.net/openvpn/ticket/79\" rel=\"nofollow\">possible</a> using \"routing\" VPNs. There were also some problems for layout like ours <a data-is-external-link=\"true\" href=\"http://openvpn.net/archive/openvpn-devel/2004-04/msg00032.html\" rel=\"nofollow\">reported</a> long time ago. Anyway, I probably did something wrong while setting it up:</p>\n<ul>\n<li>Enable ip forwarding on machines</li>\n<li>Add the multicast route to both machines (fields and OCU)</li>\n</ul>\n<p>Could iptables be preventing the multicast traffic in any way on the constellation?</p>\n<p>I have the automatic script <a data-is-external-link=\"true\" href=\"https://bitbucket.org/_jrivero_/testing_tools/src/90f6e870fe9308843269e0fccb7a8c21eca110e6/vrc_net_traffic?at=default\" rel=\"nofollow\">upload_multicast_data.sh</a> ready for testing the uploading multicast. Use it if you find it useful.</p>", "type": "rendered"}, "created_on": "2013-05-21T22:45:08.030870+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 4167757}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4167981.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4167981"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "Speaking about iptables, what about blocking all multicast traffic going through the router via iptables?", "markup": "markdown", "html": "<p>Speaking about iptables, what about blocking all multicast traffic going through the router via iptables?</p>", "type": "rendered"}, "created_on": "2013-05-21T23:20:10.584449+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 4167981}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4253587.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4253587"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "After looking around, all reliable documentation I've found about it is the [tutorial of openvpn page](http://docs.openvpn.net/how-to-tutorialsguides/virtual-platforms/site-to-site-layer-3-routin-using-openvpn-access-server/), which says:\n\n*\nOpenVPN Access Server can be configured in a site-to-site routed setup that allows you to join two sites together using a OpenVPN gateway client. Unlike the Layer 2 method, this method does not require the OpenVPN client to have two Ethernet adapters, and since broadcast traffic is not delivered over the VPN tunnel, this saves valuable bandwidth resources. However, this setup is more complex and requires manual routing configurations on both sites. You should be advised that since multicast and broadcast traffic are not transmitted across the VPN tunnel, application and network discovery applications will not work across sites in this mode. Computers that are normally discovered thus will have to resort to communicating directly via Unicast using the other party\u2019s IP address.\n*\n\n", "markup": "markdown", "html": "<p>After looking around, all reliable documentation I've found about it is the <a data-is-external-link=\"true\" href=\"http://docs.openvpn.net/how-to-tutorialsguides/virtual-platforms/site-to-site-layer-3-routin-using-openvpn-access-server/\" rel=\"nofollow\">tutorial of openvpn page</a>, which says:</p>\n<p><em>\nOpenVPN Access Server can be configured in a site-to-site routed setup that allows you to join two sites together using a OpenVPN gateway client. Unlike the Layer 2 method, this method does not require the OpenVPN client to have two Ethernet adapters, and since broadcast traffic is not delivered over the VPN tunnel, this saves valuable bandwidth resources. However, this setup is more complex and requires manual routing configurations on both sites. You should be advised that since multicast and broadcast traffic are not transmitted across the VPN tunnel, application and network discovery applications will not work across sites in this mode. Computers that are normally discovered thus will have to resort to communicating directly via Unicast using the other party\u2019s IP address.\n</em></p>", "type": "rendered"}, "created_on": "2013-05-29T15:40:51.490468+00:00", "user": {"display_name": "Jose Luis Rivero", "uuid": "{d12309b2-f745-42ee-b119-aec4fcdf81fe}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D"}, "html": {"href": "https://bitbucket.org/%7Bd12309b2-f745-42ee-b119-aec4fcdf81fe%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/109284c8b83411dbc7492138f6167e9ed=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJR-5.png"}}, "nickname": "Jose Luis Rivero", "type": "user", "account_id": "557058:155a32e2-420c-4d50-98e0-0e722f63f906"}, "updated_on": null, "type": "issue_comment", "id": 4253587}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4/comments/4321687.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools/issues/4#comment-4321687"}}, "issue": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools/issues/4.json"}}, "type": "issue", "id": 4, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-client-tools.json"}, "html": {"href": "#!/osrf/cloudsim-client-tools"}, "avatar": {"href": "data/bytebucket.org/ravatar/{efce1748-f779-4923-ad69-731a0b345049}ts=c_plus_plus"}}, "type": "repository", "name": "cloudsim-client-tools", "full_name": "osrf/cloudsim-client-tools", "uuid": "{efce1748-f779-4923-ad69-731a0b345049}"}, "title": "Check that broadcast and multicast packets are counted properly"}, "content": {"raw": "Conclusion from experimentation and research is that neither multicast nor broadcast packets will cross the openvpn tunnel.", "markup": "markdown", "html": "<p>Conclusion from experimentation and research is that neither multicast nor broadcast packets will cross the openvpn tunnel.</p>", "type": "rendered"}, "created_on": "2013-06-03T19:45:11.073723+00:00", "user": {"display_name": "Brian Gerkey", "uuid": "{3d8b5763-9dad-4be7-85c2-a7ab6cd49173}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D"}, "html": {"href": "https://bitbucket.org/%7B3d8b5763-9dad-4be7-85c2-a7ab6cd49173%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9/5fa9ec73-0fec-4860-a202-e34ae23b6a12/128"}}, "nickname": "Brian Gerkey", "type": "user", "account_id": "557058:2e35028e-9ad8-4d6a-a3a5-275159a304a9"}, "updated_on": null, "type": "issue_comment", "id": 4321687}], "page": 1, "size": 8}