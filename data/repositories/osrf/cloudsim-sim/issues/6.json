{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "links": {"attachments": {"href": "data/repositories/osrf/cloudsim-sim/issues/6/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/cloudsim-sim/issues/6.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/issues/6/watch"}, "comments": {"href": "data/repositories/osrf/cloudsim-sim/issues/6/comments_page=1.json"}, "html": {"href": "#!/osrf/cloudsim-sim/issues/6/which-ports-on-field-computer-will-be"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/issues/6/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Which ports on field computer will be exposed to the OCU?", "component": null, "votes": 0, "watches": 1, "content": {"raw": "My example field computer Docker file opens a simple http server on port 8000:\r\n\r\nhttps://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile\r\n\r\n@clalancette helped me with the following `iptables` command that would route port 8000 from the vpn to the `team_container`:\r\n\r\n~~~\r\n$ sudo iptables -A PREROUTING -t nat -d 192.168.2.10 -p tcp --dport 8000 -j DNAT --to-destination 172.17.0.2:8000\r\n~~~\r\n\r\nDo we want to allow a range of ports for the teams? Also, I'm not sure if this networking setup will change when we add the traffic shaper.", "markup": "markdown", "html": "<p>My example field computer Docker file opens a simple http server on port 8000:</p>\n<p><a href=\"https://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile</a></p>\n<p>@clalancette helped me with the following <code>iptables</code> command that would route port 8000 from the vpn to the <code>team_container</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ sudo iptables -A PREROUTING -t nat -d <span class=\"m\">192</span>.168.2.10 -p tcp --dport <span class=\"m\">8000</span> -j DNAT --to-destination <span class=\"m\">172</span>.17.0.2:8000\n</pre></div>\n\n\n<p>Do we want to allow a range of ports for the teams? Also, I'm not sure if this networking setup will change when we add the traffic shaper.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-05-02T00:33:55.563567+00:00", "milestone": null, "updated_on": "2017-05-02T00:33:55.563567+00:00", "type": "issue", "id": 6}