{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "links": {"attachments": {"href": "data/repositories/osrf/cloudsim-sim/issues/7/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/cloudsim-sim/issues/7.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/issues/7/watch"}, "comments": {"href": "data/repositories/osrf/cloudsim-sim/issues/7/comments_page=1.json"}, "html": {"href": "#!/osrf/cloudsim-sim/issues/7/enabling-team_container-to-talk-to"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/issues/7/vote"}}, "reporter": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "title": "Enabling team_container to talk to simulator", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Now the team_container should be able to listen to topics on the simulator, but I am having trouble talking to the simulator using my example Dockerfile:\r\n\r\nhttps://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile\r\n\r\nWhen I open the keyboard teleop script in srcsim, it creates a publisher, but waits forever for subscribers:\r\n\r\n~~~\r\n[INFO] [WallTime: 1493683829.078667] [325.193000] waiting for subscribers: /ihmc_ros/valkyrie/control/arm_trajectory, /ihmc_ros/valkyrie/control/footstep_list, /ihmc_ros/valkyrie/control/head_trajectory, /ihmc_ros/valkyrie/control/neck_trajectory, /left_hand_position_controller/command, /right_hand_position_controller/command\r\n~~~\r\n\r\nFrom the simulator side, it is able to see the publisher at `192.168.2.10` on port `38915`:\r\n\r\n~~~\r\n$ rostopic info /right_hand_position_controller/command\r\nType: std_msgs/Float64MultiArray\r\n\r\nPublishers: \r\n * /keyboard_teleop (http://192.168.2.10:38915/)\r\n\r\nSubscribers: \r\n * /controller_manager_ip_172_31_22_178_818_3547366887314429827 (http://192.168.2.1:46671/)\r\n~~~\r\n\r\nbut is unable to curl that:\r\n\r\n~~~\r\n$ curl http://192.168.2.10:38915\r\ncurl: (7) Failed to connect to 192.168.2.10 port 38915: Connection refused\r\n~~~\r\n\r\nUsing host network on the `team_container` allowed fixed this problem, though I'm not sure if host networking will be used when the traffic shaper is in place.\r\n\r\nThanks to @tfoote for the debugging help.", "markup": "markdown", "html": "<p>Now the team_container should be able to listen to topics on the simulator, but I am having trouble talking to the simulator using my example Dockerfile:</p>\n<p><a href=\"https://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/scpeters/src_field_computer_test/blob/master/Dockerfile</a></p>\n<p>When I open the keyboard teleop script in srcsim, it creates a publisher, but waits forever for subscribers:</p>\n<div class=\"codehilite\"><pre><span></span>[INFO] [WallTime: 1493683829.078667] [325.193000] waiting for subscribers: /ihmc_ros/valkyrie/control/arm_trajectory, /ihmc_ros/valkyrie/control/footstep_list, /ihmc_ros/valkyrie/control/head_trajectory, /ihmc_ros/valkyrie/control/neck_trajectory, /left_hand_position_controller/command, /right_hand_position_controller/command\n</pre></div>\n\n\n<p>From the simulator side, it is able to see the publisher at <code>192.168.2.10</code> on port <code>38915</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ rostopic info /right_hand_position_controller/command\nType: std_msgs/Float64MultiArray\n\nPublishers: \n * /keyboard_teleop <span class=\"o\">(</span>http://192.168.2.10:38915/<span class=\"o\">)</span>\n\nSubscribers: \n * /controller_manager_ip_172_31_22_178_818_3547366887314429827 <span class=\"o\">(</span>http://192.168.2.1:46671/<span class=\"o\">)</span>\n</pre></div>\n\n\n<p>but is unable to curl that:</p>\n<div class=\"codehilite\"><pre><span></span>$ curl http://192.168.2.10:38915\ncurl: <span class=\"o\">(</span><span class=\"m\">7</span><span class=\"o\">)</span> Failed to connect to <span class=\"m\">192</span>.168.2.10 port <span class=\"m\">38915</span>: Connection refused\n</pre></div>\n\n\n<p>Using host network on the <code>team_container</code> allowed fixed this problem, though I'm not sure if host networking will be used when the traffic shaper is in place.</p>\n<p>Thanks to @tfoote for the debugging help.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-05-02T00:54:19.030047+00:00", "milestone": null, "updated_on": "2017-05-02T00:54:57.692099+00:00", "type": "issue", "id": 7}