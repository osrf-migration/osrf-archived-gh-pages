{"rendered": {"description": {"raw": "Updated the simulations code, to expect a stopCmd that will be invoked to stop the simulation. Before this PR , a 'kill' was invoked on the previously run 'cmd'. \r\n\r\nAlso added some default commands for running and stopping gazebo docker container (src specifics).\r\n\r\nSome changes that could be done and some warnings: \r\n\r\n- allow the stopCmd to be 'optional'. If not present, then just invoke kill.\r\n\r\n- currently, the docker container name is assumed to be 'gazebo_run'. If due to some reason there are issues with killing the container, then we will not be able to launch another container using the same docker container name. But I think we don't want to have multiple running docker containers either, so the root problem is to be able to smoothly stop a docker container...maybe in such scenarios the admin will login to the instance? Note: if we just kill the docker container (docker kill / docker stop) it seems we don't allow gazebo write its logs. So we need to close it using SIGINT signal.", "markup": "markdown", "html": "<p>Updated the simulations code, to expect a stopCmd that will be invoked to stop the simulation. Before this PR , a 'kill' was invoked on the previously run 'cmd'. </p>\n<p>Also added some default commands for running and stopping gazebo docker container (src specifics).</p>\n<p>Some changes that could be done and some warnings: </p>\n<ul>\n<li>\n<p>allow the stopCmd to be 'optional'. If not present, then just invoke kill.</p>\n</li>\n<li>\n<p>currently, the docker container name is assumed to be 'gazebo_run'. If due to some reason there are issues with killing the container, then we will not be able to launch another container using the same docker container name. But I think we don't want to have multiple running docker containers either, so the root problem is to be able to smoothly stop a docker container...maybe in such scenarios the admin will login to the instance? Note: if we just kill the docker container (docker kill / docker stop) it seems we don't allow gazebo write its logs. So we need to close it using SIGINT signal.</p>\n</li>\n</ul>", "type": "rendered"}, "title": {"raw": "add support for 'stopCmd' and 'logsCmd' in simulations, and other changes", "markup": "markdown", "html": "<p>add support for 'stopCmd' and 'logsCmd' in simulations, and other changes</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Updated the simulations code, to expect a stopCmd that will be invoked to stop the simulation. Before this PR , a 'kill' was invoked on the previously run 'cmd'. \r\n\r\nAlso added some default commands for running and stopping gazebo docker container (src specifics).\r\n\r\nSome changes that could be done and some warnings: \r\n\r\n- allow the stopCmd to be 'optional'. If not present, then just invoke kill.\r\n\r\n- currently, the docker container name is assumed to be 'gazebo_run'. If due to some reason there are issues with killing the container, then we will not be able to launch another container using the same docker container name. But I think we don't want to have multiple running docker containers either, so the root problem is to be able to smoothly stop a docker container...maybe in such scenarios the admin will login to the instance? Note: if we just kill the docker container (docker kill / docker stop) it seems we don't allow gazebo write its logs. So we need to close it using SIGINT signal.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/pullrequests/32/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/diffstat/osrf/cloudsim-sim:dfc6c1623eaa%0Db2be20043e89?from_pullrequest_id=32"}, "commits": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/32/commits.json"}, "self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/32.json"}, "comments": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/32/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/pullrequests/32/merge"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/32"}, "activity": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/32/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/diff/osrf/cloudsim-sim:dfc6c1623eaa%0Db2be20043e89?from_pullrequest_id=32"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-sim/pullrequests/32/approve"}, "statuses": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/32/statuses_page=1.json"}}, "title": "add support for 'stopCmd' and 'logsCmd' in simulations, and other changes", "close_source_branch": false, "reviewers": [{"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}], "id": 32, "destination": {"commit": {"hash": "b2be20043e89", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/b2be20043e89.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/b2be20043e89"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "created_on": "2017-04-17T19:35:10.852914+00:00", "summary": {"raw": "Updated the simulations code, to expect a stopCmd that will be invoked to stop the simulation. Before this PR , a 'kill' was invoked on the previously run 'cmd'. \r\n\r\nAlso added some default commands for running and stopping gazebo docker container (src specifics).\r\n\r\nSome changes that could be done and some warnings: \r\n\r\n- allow the stopCmd to be 'optional'. If not present, then just invoke kill.\r\n\r\n- currently, the docker container name is assumed to be 'gazebo_run'. If due to some reason there are issues with killing the container, then we will not be able to launch another container using the same docker container name. But I think we don't want to have multiple running docker containers either, so the root problem is to be able to smoothly stop a docker container...maybe in such scenarios the admin will login to the instance? Note: if we just kill the docker container (docker kill / docker stop) it seems we don't allow gazebo write its logs. So we need to close it using SIGINT signal.", "markup": "markdown", "html": "<p>Updated the simulations code, to expect a stopCmd that will be invoked to stop the simulation. Before this PR , a 'kill' was invoked on the previously run 'cmd'. </p>\n<p>Also added some default commands for running and stopping gazebo docker container (src specifics).</p>\n<p>Some changes that could be done and some warnings: </p>\n<ul>\n<li>\n<p>allow the stopCmd to be 'optional'. If not present, then just invoke kill.</p>\n</li>\n<li>\n<p>currently, the docker container name is assumed to be 'gazebo_run'. If due to some reason there are issues with killing the container, then we will not be able to launch another container using the same docker container name. But I think we don't want to have multiple running docker containers either, so the root problem is to be able to smoothly stop a docker container...maybe in such scenarios the admin will login to the instance? Note: if we just kill the docker container (docker kill / docker stop) it seems we don't allow gazebo write its logs. So we need to close it using SIGINT signal.</p>\n</li>\n</ul>", "type": "rendered"}, "source": {"commit": {"hash": "8121d9414e92", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/8121d9414e92.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/8121d9414e92"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "src_docker_commands"}}, "comment_count": 40, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2017-04-21T19:30:16.900624+00:00", "type": "participant", "approved": false, "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}}, {"role": "REVIEWER", "participated_on": "2017-04-21T19:25:33.241263+00:00", "type": "participant", "approved": true, "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}}, {"role": "REVIEWER", "participated_on": "2017-04-21T18:28:43.491025+00:00", "type": "participant", "approved": true, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}], "reason": "", "updated_on": "2017-04-21T19:30:28.343008+00:00", "author": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "merge_commit": {"hash": "dfc6c1623eaa", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/dfc6c1623eaa.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/dfc6c1623eaa"}}}, "closed_by": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}}