{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581548.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581548"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "I can confirm this is working with latest dry-test AMIs , and switching to this `fc_monitor` branch in the FC. The src_monitor is automatically started/killed based on ros master and topics. \n\nWhen the src monitor gets killed, and TC rules are removed and bandwith between OCU/FC increases again. \n\nI was able to test the 380kbit / 4kbit rules. \n\nNote 2: after connection the FC with the Simulator successfully, at some point  I stopped the FC (Stop button) . Then restarted it, but the src_monitor wouldn't detect the ros node.  I went to see logs at the sim instance and noticed that gzserver node had died. I'm not sure if stopping the FC was the reason tho . I will need to test that again as part of another test .\n\nAs for this PR, it seems to work\n\n\n", "markup": "markdown", "html": "<p>I can confirm this is working with latest dry-test AMIs , and switching to this <code>fc_monitor</code> branch in the FC. The src_monitor is automatically started/killed based on ros master and topics. </p>\n<p>When the src monitor gets killed, and TC rules are removed and bandwith between OCU/FC increases again. </p>\n<p>I was able to test the 380kbit / 4kbit rules. </p>\n<p>Note 2: after connection the FC with the Simulator successfully, at some point  I stopped the FC (Stop button) . Then restarted it, but the src_monitor wouldn't detect the ros node.  I went to see logs at the sim instance and noticed that gzserver node had died. I'm not sure if stopping the FC was the reason tho . I will need to test that again as part of another test .</p>\n<p>As for this PR, it seems to work</p>", "type": "rendered"}, "created_on": "2017-06-09T22:53:45.134344+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-09T22:53:45.136751+00:00", "type": "pullrequest_comment", "id": 38581548}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581824.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581824"}}, "parent": {"id": 38581548, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581548.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581548"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "we also noticed gzserver dying in one of the teams dry-run constellation. We set to output the core file to the /tmp directory inside the container. It would be nice to see if the core file's actually generated next time you see gzserver crashes.", "markup": "markdown", "html": "<p>we also noticed gzserver dying in one of the teams dry-run constellation. We set to output the core file to the /tmp directory inside the container. It would be nice to see if the core file's actually generated next time you see gzserver crashes.</p>", "type": "rendered"}, "created_on": "2017-06-09T23:10:28.583080+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-09T23:10:28.585102+00:00", "type": "pullrequest_comment", "id": 38581824}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581868.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581868"}}, "parent": {"id": 38581824, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581824.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581824"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "Ok will do!  Which one is the \"core\" file ? ", "markup": "markdown", "html": "<p>Ok will do!  Which one is the \"core\" file ? </p>", "type": "rendered"}, "created_on": "2017-06-09T23:13:15.101392+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-09T23:13:15.103580+00:00", "type": "pullrequest_comment", "id": 38581868}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38582475.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38582475"}}, "parent": {"id": 38581868, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581868.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581868"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "Note the core dump cound be huge (a couple of GBs). We give it the pattern `/tmp/core.%e.%p` so it's probably something like core.gzserver.1234 where 1234 is the process id", "markup": "markdown", "html": "<p>Note the core dump cound be huge (a couple of GBs). We give it the pattern <code>/tmp/core.%e.%p</code> so it's probably something like core.gzserver.1234 where 1234 is the process id</p>", "type": "rendered"}, "created_on": "2017-06-10T00:01:18.053420+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-10T00:01:18.055867+00:00", "type": "pullrequest_comment", "id": 38582475}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581827.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581827"}}, "parent": {"id": 38581548, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581548.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581548"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "thanks for testing!", "markup": "markdown", "html": "<p>thanks for testing!</p>", "type": "rendered"}, "created_on": "2017-06-09T23:10:34.697597+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-09T23:10:34.699827+00:00", "type": "pullrequest_comment", "id": 38581827}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38665089.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38665089"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "@preyna Just confirming, in your tests did you try stopping and restarting simulation while FC docker remain running and verify the src_monitor process were killed and restarted?", "markup": "markdown", "html": "<p>@preyna Just confirming, in your tests did you try stopping and restarting simulation while FC docker remain running and verify the src_monitor process were killed and restarted?</p>", "type": "rendered"}, "created_on": "2017-06-12T19:16:32.463299+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-12T19:16:32.471119+00:00", "type": "pullrequest_comment", "id": 38665089}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38665343.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38665343"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "Yes, I played with sim Run and Stop buttons , and the src_monitor was started/killed accordingly . \n ", "markup": "markdown", "html": "<p>Yes, I played with sim Run and Stop buttons , and the src_monitor was started/killed accordingly . </p>", "type": "rendered"}, "created_on": "2017-06-12T19:21:16.097184+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-12T19:21:16.099889+00:00", "type": "pullrequest_comment", "id": 38665343}], "page": 1, "size": 7}