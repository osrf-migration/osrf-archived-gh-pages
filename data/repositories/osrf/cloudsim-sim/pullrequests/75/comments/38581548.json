{"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75/comments/38581548.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75/_/diff#comment-38581548"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 75, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/75.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/75"}}, "title": "Monitor ROS master from FC and restart TC as needed"}, "content": {"raw": "I can confirm this is working with latest dry-test AMIs , and switching to this `fc_monitor` branch in the FC. The src_monitor is automatically started/killed based on ros master and topics. \n\nWhen the src monitor gets killed, and TC rules are removed and bandwith between OCU/FC increases again. \n\nI was able to test the 380kbit / 4kbit rules. \n\nNote 2: after connection the FC with the Simulator successfully, at some point  I stopped the FC (Stop button) . Then restarted it, but the src_monitor wouldn't detect the ros node.  I went to see logs at the sim instance and noticed that gzserver node had died. I'm not sure if stopping the FC was the reason tho . I will need to test that again as part of another test .\n\nAs for this PR, it seems to work\n\n\n", "markup": "markdown", "html": "<p>I can confirm this is working with latest dry-test AMIs , and switching to this <code>fc_monitor</code> branch in the FC. The src_monitor is automatically started/killed based on ros master and topics. </p>\n<p>When the src monitor gets killed, and TC rules are removed and bandwith between OCU/FC increases again. </p>\n<p>I was able to test the 380kbit / 4kbit rules. </p>\n<p>Note 2: after connection the FC with the Simulator successfully, at some point  I stopped the FC (Stop button) . Then restarted it, but the src_monitor wouldn't detect the ros node.  I went to see logs at the sim instance and noticed that gzserver node had died. I'm not sure if stopping the FC was the reason tho . I will need to test that again as part of another test .</p>\n<p>As for this PR, it seems to work</p>", "type": "rendered"}, "created_on": "2017-06-09T22:53:45.134344+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-09T22:53:45.136751+00:00", "type": "pullrequest_comment", "id": 38581548}