{"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38394351.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38394351"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I have also seen this problem before, but it only occurs when I haven't run a simulation for a while, which made it hard to debug. I had some debugging help from ROS experts back then, and we believe it is caused by the [val_gazebo val_sim_gazebo_sync.launch](https://gitlab.com/nasa-jsc-robotics/val_gazebo/blob/master/launch/val_sim_gazebo_sync.launch#L29-31) launch file from NASA that uses the [delayed_roslaunch.sh](https://gitlab.com/nasa-jsc-robotics/val_deploy/blob/master/scripts/delayed_roslaunch.sh) script to start some of the controller nodes. This makes the nodes run in separate processes, but if the startup order changes due to differences in timing, the wrong thing will try to start `rosout` and they get into a battle.\n\nI could try to tweak the timing in that launch file to see if it fixes the problem.", "markup": "markdown", "html": "<p>I have also seen this problem before, but it only occurs when I haven't run a simulation for a while, which made it hard to debug. I had some debugging help from ROS experts back then, and we believe it is caused by the <a data-is-external-link=\"true\" href=\"https://gitlab.com/nasa-jsc-robotics/val_gazebo/blob/master/launch/val_sim_gazebo_sync.launch#L29-31\" rel=\"nofollow\">val_gazebo val_sim_gazebo_sync.launch</a> launch file from NASA that uses the <a data-is-external-link=\"true\" href=\"https://gitlab.com/nasa-jsc-robotics/val_deploy/blob/master/scripts/delayed_roslaunch.sh\" rel=\"nofollow\">delayed_roslaunch.sh</a> script to start some of the controller nodes. This makes the nodes run in separate processes, but if the startup order changes due to differences in timing, the wrong thing will try to start <code>rosout</code> and they get into a battle.</p>\n<p>I could try to tweak the timing in that launch file to see if it fixes the problem.</p>", "type": "rendered"}, "created_on": "2017-06-07T17:59:02.218212+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-07T17:59:02.220553+00:00", "type": "pullrequest_comment", "id": 38394351}