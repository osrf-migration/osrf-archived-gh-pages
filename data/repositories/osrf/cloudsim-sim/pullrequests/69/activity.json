{"pagelen": 50, "values": [{"update": {"description": "On the cloud, I've seen it happening when a bunch of `rosout` processes start being spawned and killed in an infinite loop like this:\r\n\r\n~~~\r\nprocess[rosout-1]: started with pid [22632]\r\n[rosout-1] process has finished cleanly\r\nlog file: /home/cloudsim/.ros/log/0f5591c8-4b21-11e7-b55b-068ed08ab406/rosout-1*.log\r\n~~~\r\n\r\nBoth times, this came accompanied of the SRCSim [Address already in use](https://bitbucket.org/osrf/srcsim/issues/181/ihmc-robotdatalogger-javanetbindexception) issue. \r\n\r\n@wjwwood said this might be due to multiple `roslaunch`es being launched at the same time and fighting over who gets to launch `roscore` goodies such as `rosout`. One solution would be to run `roscore` before and then run `roslaunch` with `--wait` so that it waits for `roscore` to be up and running. \r\n\r\nI haven't played with this on the cloud though, I suspect it might affect some CloudSim magic?", "title": "Launch a separate roscore before roslaunching", "destination": {"commit": {"hash": "4a848cb51b11", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/4a848cb51b11.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/4a848cb51b11"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9c050fd8db69", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/9c050fd8db69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/9c050fd8db69"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "roscore_before_roslaunch"}}, "state": "DECLINED", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-12T22:56:13.801251+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38675605.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38675605"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "An alternate fix has already been merged:\n\n* https://bitbucket.org/osrf/srcsim/pull-requests/101\n\nI think this can be declined", "markup": "markdown", "html": "<p>An alternate fix has already been merged:</p>\n<ul>\n<li><a href=\"https://bitbucket.org/osrf/srcsim/pull-requests/101\" rel=\"nofollow\" class=\"ap-connect-link\">https://bitbucket.org/osrf/srcsim/pull-requests/101</a></li>\n</ul>\n<p>I think this can be declined</p>", "type": "rendered"}, "created_on": "2017-06-12T22:44:03.458773+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-12T22:44:03.462331+00:00", "type": "pullrequest_comment", "id": 38675605}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38491525.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38491525"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I was trying this fix and seems to be working , or better said, I didn't see the issue anymore. \n\nBTW, I noticed this fix is not in the dry test.  I had to manually apply it  for my test constellations\n", "markup": "markdown", "html": "<p>I was trying this fix and seems to be working , or better said, I didn't see the issue anymore. </p>\n<p>BTW, I noticed this fix is not in the dry test.  I had to manually apply it  for my test constellations</p>", "type": "rendered"}, "created_on": "2017-06-08T19:17:43.116718+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-08T19:17:43.119911+00:00", "type": "pullrequest_comment", "id": 38491525}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38394351.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38394351"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I have also seen this problem before, but it only occurs when I haven't run a simulation for a while, which made it hard to debug. I had some debugging help from ROS experts back then, and we believe it is caused by the [val_gazebo val_sim_gazebo_sync.launch](https://gitlab.com/nasa-jsc-robotics/val_gazebo/blob/master/launch/val_sim_gazebo_sync.launch#L29-31) launch file from NASA that uses the [delayed_roslaunch.sh](https://gitlab.com/nasa-jsc-robotics/val_deploy/blob/master/scripts/delayed_roslaunch.sh) script to start some of the controller nodes. This makes the nodes run in separate processes, but if the startup order changes due to differences in timing, the wrong thing will try to start `rosout` and they get into a battle.\n\nI could try to tweak the timing in that launch file to see if it fixes the problem.", "markup": "markdown", "html": "<p>I have also seen this problem before, but it only occurs when I haven't run a simulation for a while, which made it hard to debug. I had some debugging help from ROS experts back then, and we believe it is caused by the <a data-is-external-link=\"true\" href=\"https://gitlab.com/nasa-jsc-robotics/val_gazebo/blob/master/launch/val_sim_gazebo_sync.launch#L29-31\" rel=\"nofollow\">val_gazebo val_sim_gazebo_sync.launch</a> launch file from NASA that uses the <a data-is-external-link=\"true\" href=\"https://gitlab.com/nasa-jsc-robotics/val_deploy/blob/master/scripts/delayed_roslaunch.sh\" rel=\"nofollow\">delayed_roslaunch.sh</a> script to start some of the controller nodes. This makes the nodes run in separate processes, but if the startup order changes due to differences in timing, the wrong thing will try to start <code>rosout</code> and they get into a battle.</p>\n<p>I could try to tweak the timing in that launch file to see if it fixes the problem.</p>", "type": "rendered"}, "created_on": "2017-06-07T17:59:02.218212+00:00", "user": {"display_name": "Steve Peters", "uuid": "{2ccfed09-18b8-4921-8d58-15ef01092802}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D"}, "html": {"href": "https://bitbucket.org/%7B2ccfed09-18b8-4921-8d58-15ef01092802%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/1fb4816dad9e68337d3096f750951f6cd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSP-1.png"}}, "nickname": "Steven Peters", "type": "user", "account_id": "557058:5de38267-b118-494c-aa76-4fab35448816"}, "updated_on": "2017-06-07T17:59:02.220553+00:00", "type": "pullrequest_comment", "id": 38394351}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38391821.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38391821"}}, "parent": {"id": 38390671, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38390671.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38390671"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "mm ok I probably just got lucky that time.", "markup": "markdown", "html": "<p>mm ok I probably just got lucky that time.</p>", "type": "rendered"}, "created_on": "2017-06-07T17:21:32.344538+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-07T17:21:32.346947+00:00", "type": "pullrequest_comment", "id": 38391821}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38390671.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38390671"}}, "parent": {"id": 38329638, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38329638.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38329638"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "ami-4a61432a is pulling from the dry-test branch, right? I just launched a constellation with it and got the rosout errors on the first simulation. Also, the \"Address is use\" error, and Gazebo crashed.", "markup": "markdown", "html": "<p>ami-4a61432a is pulling from the dry-test branch, right? I just launched a constellation with it and got the rosout errors on the first simulation. Also, the \"Address is use\" error, and Gazebo crashed.</p>", "type": "rendered"}, "created_on": "2017-06-07T17:05:52.027411+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-07T17:05:52.030020+00:00", "type": "pullrequest_comment", "id": 38390671}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38377864.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38377864"}}, "parent": {"id": 38377585, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38377585.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38377585"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "hm , now that I think, maybe we can add these details as a comment into this script , as part of this PR ? ", "markup": "markdown", "html": "<p>hm , now that I think, maybe we can add these details as a comment into this script , as part of this PR ? </p>", "type": "rendered"}, "created_on": "2017-06-07T14:50:02.819262+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-07T14:50:02.822754+00:00", "type": "pullrequest_comment", "id": 38377864}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38377585.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38377585"}}, "parent": {"id": 38371289, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38371289.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38371289"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "Aha, I imagined there was smth like that going on", "markup": "markdown", "html": "<p>Aha, I imagined there was smth like that going on</p>", "type": "rendered"}, "created_on": "2017-06-07T14:47:50.534524+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-06-07T14:47:50.537043+00:00", "type": "pullrequest_comment", "id": 38377585}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38371289.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38371289"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "JFYI (no need to change anything) : When we change the launch script we need to keep the roslaunch as the main docker process (that's why I used `exec`)  . The main docker process will end up having PID 1 in the docker container (eg. can be seen with `top command` from inside the container). By having PID 1 , the stop_gazebo script which issues a `docker kill -SIGINT` will send that sigint to the PID 1 process, allowing for a graceful shutdown.\n", "markup": "markdown", "html": "<p>JFYI (no need to change anything) : When we change the launch script we need to keep the roslaunch as the main docker process (that's why I used <code>exec</code>)  . The main docker process will end up having PID 1 in the docker container (eg. can be seen with <code>top command</code> from inside the container). By having PID 1 , the stop_gazebo script which issues a <code>docker kill -SIGINT</code> will send that sigint to the PID 1 process, allowing for a graceful shutdown.</p>", "type": "rendered"}, "created_on": "2017-06-07T13:52:20.245265+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-06-07T13:52:20.247827+00:00", "type": "pullrequest_comment", "id": 38371289}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38329638.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38329638"}}, "parent": {"id": 38327535, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38327535.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38327535"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I think it's the host src monitor script I'm running that has a race condition with the docker container roslaunch. [these changes](#!/osrf/cloudsim-sim/diff/src_commands/src_monitor.py?diff1=d64ae9252b29&diff2=f433bbc20256d0032d2ec0e954c842e88303f86c&at=dry-test) seem to fix the problem", "markup": "markdown", "html": "<p>I think it's the host src monitor script I'm running that has a race condition with the docker container roslaunch. <a data-is-external-link=\"true\" href=\"#!/osrf/cloudsim-sim/diff/src_commands/src_monitor.py?diff1=d64ae9252b29&amp;diff2=f433bbc20256d0032d2ec0e954c842e88303f86c&amp;at=dry-test\" rel=\"nofollow\">these changes</a> seem to fix the problem</p>", "type": "rendered"}, "created_on": "2017-06-07T06:00:07.855384+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-07T06:00:07.857510+00:00", "type": "pullrequest_comment", "id": 38329638}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38327535.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38327535"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I'm still getting this error on cloudsim. When I tail the rosout.log, there's a bunch of these messages:\n\n~~~\n[ WARN] [1496811723.175096893]: Shutdown request received.\n[ WARN] [1496811723.175141435]: Reason given for shutdown: [new node registered with same name]\n~~~", "markup": "markdown", "html": "<p>I'm still getting this error on cloudsim. When I tail the rosout.log, there's a bunch of these messages:</p>\n<div class=\"codehilite\"><pre><span></span>[ WARN] [1496811723.175096893]: Shutdown request received.\n[ WARN] [1496811723.175141435]: Reason given for shutdown: [new node registered with same name]\n</pre></div>", "type": "rendered"}, "created_on": "2017-06-07T05:03:43.663578+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-07T05:03:43.666726+00:00", "type": "pullrequest_comment", "id": 38327535}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69/comments/38325748.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69/_/diff#comment-38325748"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}, "content": {"raw": "I've seen this as well but it doesn't always happen so I wasn't sure what it was", "markup": "markdown", "html": "<p>I've seen this as well but it doesn't always happen so I wasn't sure what it was</p>", "type": "rendered"}, "created_on": "2017-06-07T03:53:55.731143+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-06-07T03:53:55.733300+00:00", "type": "pullrequest_comment", "id": 38325748}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"update": {"description": "On the cloud, I've seen it happening when a bunch of `rosout` processes start being spawned and killed in an infinite loop like this:\r\n\r\n~~~\r\nprocess[rosout-1]: started with pid [22632]\r\n[rosout-1] process has finished cleanly\r\nlog file: /home/cloudsim/.ros/log/0f5591c8-4b21-11e7-b55b-068ed08ab406/rosout-1*.log\r\n~~~\r\n\r\nBoth times, this came accompanied of the SRCSim [Address already in use](https://bitbucket.org/osrf/srcsim/issues/181/ihmc-robotdatalogger-javanetbindexception) issue. \r\n\r\n@wjwwood said this might be due to multiple `roslaunch`es being launched at the same time and fighting over who gets to launch `roscore` goodies such as `rosout`. One solution would be to run `roscore` before and then run `roslaunch` with `--wait` so that it waits for `roscore` to be up and running. \r\n\r\nI haven't played with this on the cloud though, I suspect it might affect some CloudSim magic?", "title": "Launch a separate roscore before roslaunching", "destination": {"commit": {"hash": "786036cde979", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/786036cde979.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/786036cde979"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9c050fd8db69", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/9c050fd8db69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/9c050fd8db69"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "roscore_before_roslaunch"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-07T03:16:55.818166+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}, {"update": {"description": "On the cloud, I've seen it happening when a bunch of `rosout` processes start being spawned and killed in an infinite loop like this:\r\n\r\n~~~\r\nprocess[rosout-1]: started with pid [22632]\r\n[rosout-1] process has finished cleanly\r\nlog file: /home/cloudsim/.ros/log/0f5591c8-4b21-11e7-b55b-068ed08ab406/rosout-1*.log\r\n~~~\r\n\r\nBoth times, this came accompanied of the SRCSim [Address already in use](https://bitbucket.org/osrf/srcsim/issues/181/ihmc-robotdatalogger-javanetbindexception) issue. \r\n\r\n@wjwwood said this might be due to multiple `roslaunch`es being launched at the same time and fighting over who gets to launch `roscore` goodies such as `rosout`. One solution would be to run `roscore` before and then run `roslaunch` with `--wait` so that it waits for `roscore` to be up and running. \r\n\r\nI haven't played with this on the cloud though, I suspect it might affect some CloudSim magic?", "title": "Launch a separate roscore before roslaunching", "destination": {"commit": {"hash": "786036cde979", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/786036cde979.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/786036cde979"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "9c050fd8db69", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/9c050fd8db69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/9c050fd8db69"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "roscore_before_roslaunch"}}, "state": "OPEN", "author": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "date": "2017-06-07T03:16:55.791207+00:00"}, "pull_request": {"type": "pullrequest", "id": 69, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/69.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/69"}}, "title": "Launch a separate roscore before roslaunching"}}]}