{"pagelen": 50, "values": [{"update": {"description": "Note: it'll not be automatically started. I added an arg to `fc_run_team_docker.bash` to start traffic shaper. \r\n\r\nTesting is a bit more involved:\r\n\r\n1. launch simulator and FC (use AMI `src-fc-0.1.12a: ami-8f2909ef` for FC)\r\n1. In FC instance, update cloudsim-sim to `fc_tc` branch and comment out the `if` check in `fc_run_team_docker.bash` to always start `src_monitor.bash` on FC\r\n1. Press `>1` on sim instance to launch simulation. Wait for robot to be ready. You should see `Done` in `~/code/cloudsim-docker.log`\r\n1. attach to sim docker instance and start the task: `rosservice call /srcsim/finals/start_task 1 1`\r\n1. in sim docker instance, move the robot to checkpoint1: `gz model -m valkyrie -x 2.0 -y 0 -z 1.1 -R 0 -P 0 -Y 0`\r\n1. verify messages are published to task topic: `rostopic echo /srcsim/finals/task`. If that doesn't happen, something is probably wrong in the init process. You'll need to stop the container and repeat from step 3\r\n1. press `START` on FC instance, this should trigger traffic shaper\r\n1. Launch VPN on OCU and test bandwidth to FC. e.g. `iperf -s` on OCU and `iperf -c 192.168.2.150` on FC to test downlink bandwidth", "title": "Integrate traffic shaper script", "destination": {"commit": {"hash": "a624743e63fe", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/a624743e63fe.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/a624743e63fe"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "db8a9931e70e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/db8a9931e70e.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/db8a9931e70e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "fc_tc"}}, "state": "MERGED", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-05-30T18:15:32.630898+00:00"}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37855292.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37855292"}}, "parent": {"id": 37845087, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37845087.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37845087"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "content": {"raw": "as discussed, this is normally due to controller failure but it seems like you experienced a gzserver crash. We'll need to keep an eye on this", "markup": "markdown", "html": "<p>as discussed, this is normally due to controller failure but it seems like you experienced a gzserver crash. We'll need to keep an eye on this</p>", "type": "rendered"}, "created_on": "2017-05-30T18:15:14.107276+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-05-30T18:15:14.110526+00:00", "type": "pullrequest_comment", "id": 37855292}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37855226.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37855226"}}, "parent": {"id": 37773038, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37773038.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37773038"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "content": {"raw": "I think this also works, I just did a quick test:\n\n~~~\n#!/bin/bash\nTC=${1:-false}\n# launch script to monitor SRC tasks\nif [ \"$TC\" = true ] ; then\n echo \"starting src monitor without quotes\"\nfi\nif [ \"$TC\" = \"true\" ] ; then\n echo \"starting src monitor with quotes\"\nfi\n~~~\n\nboth lines are printed", "markup": "markdown", "html": "<p>I think this also works, I just did a quick test:</p>\n<div class=\"codehilite language-bash\"><pre><span></span><span class=\"ch\">#!/bin/bash</span>\n<span class=\"nv\">TC</span><span class=\"o\">=</span><span class=\"si\">${</span><span class=\"nv\">1</span><span class=\"k\">:-</span><span class=\"nv\">false</span><span class=\"si\">}</span>\n<span class=\"c1\"># launch script to monitor SRC tasks</span>\n<span class=\"k\">if</span> <span class=\"o\">[</span> <span class=\"s2\">&quot;</span><span class=\"nv\">$TC</span><span class=\"s2\">&quot;</span> <span class=\"o\">=</span> <span class=\"nb\">true</span> <span class=\"o\">]</span> <span class=\"p\">;</span> <span class=\"k\">then</span>\n <span class=\"nb\">echo</span> <span class=\"s2\">&quot;starting src monitor without quotes&quot;</span>\n<span class=\"k\">fi</span>\n<span class=\"k\">if</span> <span class=\"o\">[</span> <span class=\"s2\">&quot;</span><span class=\"nv\">$TC</span><span class=\"s2\">&quot;</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;true&quot;</span> <span class=\"o\">]</span> <span class=\"p\">;</span> <span class=\"k\">then</span>\n <span class=\"nb\">echo</span> <span class=\"s2\">&quot;starting src monitor with quotes&quot;</span>\n<span class=\"k\">fi</span>\n</pre></div>\n\n\n<p>both lines are printed</p>", "type": "rendered"}, "created_on": "2017-05-30T18:14:21.437498+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "inline": {}, "updated_on": "2017-05-30T18:14:21.443171+00:00", "type": "pullrequest_comment", "id": 37855226}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37845087.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37845087"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "content": {"raw": "First time I launched the sim (Run 1 button) it seems it didn't launch OK  (as you said) . I had to click Stop button  and then do again Run 1 button .  Do you know if this error behavior is something specific of this PR / AMI , or maybe this is something we should be aware of  and in alert in case it happens in production ?\n   ", "markup": "markdown", "html": "<p>First time I launched the sim (Run 1 button) it seems it didn't launch OK  (as you said) . I had to click Stop button  and then do again Run 1 button .  Do you know if this error behavior is something specific of this PR / AMI , or maybe this is something we should be aware of  and in alert in case it happens in production ?</p>", "type": "rendered"}, "created_on": "2017-05-30T15:59:20.740701+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-05-30T15:59:20.743982+00:00", "type": "pullrequest_comment", "id": 37845087}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"approval": {"date": "2017-05-30T15:57:15.387653+00:00", "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37844905.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37844905"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "content": {"raw": "I was able to test this using these steps. Thanks! \n\nThe result I got from iperf was:\n\n```\nClient connecting to 192.168.2.150, TCP port 5001\nTCP window size: 45.0 KByte (default)\n------------------------------------------------------------\n[  3] local 192.168.2.10 port 50098 connected with 192.168.2.150 port 5001\n[ ID] Interval       Transfer     Bandwidth\n[  3]  0.0-598.4 sec   256 KBytes  3.50 Kbits/sec\n\n```\n", "markup": "markdown", "html": "<p>I was able to test this using these steps. Thanks! </p>\n<p>The result I got from iperf was:</p>\n<div class=\"codehilite\"><pre><span></span>Client connecting to 192.168.2.150, TCP port 5001\nTCP window size: 45.0 KByte (default)\n------------------------------------------------------------\n[  3] local 192.168.2.10 port 50098 connected with 192.168.2.150 port 5001\n[ ID] Interval       Transfer     Bandwidth\n[  3]  0.0-598.4 sec   256 KBytes  3.50 Kbits/sec\n</pre></div>", "type": "rendered"}, "created_on": "2017-05-30T15:57:09.805472+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "updated_on": "2017-05-30T15:57:09.808453+00:00", "type": "pullrequest_comment", "id": 37844905}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57/comments/37773038.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57/_/diff#comment-37773038"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}, "content": {"raw": "should this be \"true\" (between quotes) ?  ", "markup": "markdown", "html": "<p>should this be \"true\" (between quotes) ?  </p>", "type": "rendered"}, "created_on": "2017-05-29T17:54:13.384117+00:00", "user": {"display_name": "Patricio Reyna Almandos", "uuid": "{8d07164d-cee3-4eb0-8816-97f42c297bc3}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D"}, "html": {"href": "https://bitbucket.org/%7B8d07164d-cee3-4eb0-8816-97f42c297bc3%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:2f4f0911-c46a-4f3c-92af-650544415846/235d39e4-77b1-46b7-ac0f-900424378fef/128"}}, "nickname": "Patricio Reyna Almandos", "type": "user", "account_id": "557058:2f4f0911-c46a-4f3c-92af-650544415846"}, "inline": {}, "updated_on": "2017-05-29T17:54:13.386918+00:00", "type": "pullrequest_comment", "id": 37773038}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"update": {"description": "Note: it'll not be automatically started. I added an arg to `fc_run_team_docker.bash` to start traffic shaper. \r\n\r\nTesting is a bit more involved:\r\n\r\n1. launch simulator and FC (use AMI `src-fc-0.1.12a: ami-8f2909ef` for FC)\r\n1. In FC instance, update cloudsim-sim to `fc_tc` branch and comment out the `if` check in `fc_run_team_docker.bash` to always start `src_monitor.bash` on FC\r\n1. Press `>1` on sim instance to launch simulation. Wait for robot to be ready. You should see `Done` in `~/code/cloudsim-docker.log`\r\n1. attach to sim docker instance and start the task: `rosservice call /srcsim/finals/start_task 1 1`\r\n1. in sim docker instance, move the robot to checkpoint1: `gz model -m valkyrie -x 2.0 -y 0 -z 1.1 -R 0 -P 0 -Y 0`\r\n1. verify messages are published to task topic: `rostopic echo /srcsim/finals/task`. If that doesn't happen, something is probably wrong in the init process. You'll need to stop the container and repeat from step 3\r\n1. press `START` on FC instance, this should trigger traffic shaper\r\n1. Launch VPN on OCU and test bandwidth to FC. e.g. `iperf -s` on OCU and `iperf -c 192.168.2.150` on FC to test downlink bandwidth", "title": "Integrate traffic shaper script", "destination": {"commit": {"hash": "40f3cd2afe3d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/40f3cd2afe3d.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/40f3cd2afe3d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "db8a9931e70e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/db8a9931e70e.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/db8a9931e70e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "fc_tc"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-05-24T23:26:59.589034+00:00"}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"update": {"description": "Note: it'll not be automatically started. I added an arg to `fc_run_team_docker.bash` to start traffic shaper. \r\n\r\nTesting is a bit more involved:\r\n\r\n1. launch simulator and FC instances\r\n1. In FC instance, comment out the `if` check in `fc_run_team_docker.bash` to always start `src_monitor.bash` on FC\r\n1. Press `>1` on sim instance to launch simulation. Wait for robot to be ready. You should see `Done` in `~/code/cloudsim-docker.log`\r\n1. attach to sim docker instance and start the task: `rosservice call /srcsim/finals/start_task 1 1`\r\n1. in sim docker instance, move the robot to checkpoint1: `gz model -m valkyrie -x 2.0 -y 0 -z 1.1 -R 0 -P 0 -Y 0`\r\n1. verify messages are published to task topic: `rostopic echo /srcsim/finals/task`. If that doesn't happen, something is probably wrong in the init process. You'll need to stop the container and repeat from step 3\r\n1. press `START` on FC instance, this should trigger traffic shaper\r\n1. Launch VPN on OCU and test bandwidth to FC. e.g. `iperf -s` on OCU and `iperf -c 192.168.2.150` on FC to test downlink bandwidth", "title": "Integrate traffic shaper script", "destination": {"commit": {"hash": "40f3cd2afe3d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/40f3cd2afe3d.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/40f3cd2afe3d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "db8a9931e70e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/db8a9931e70e.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/db8a9931e70e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "fc_tc"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-05-24T23:23:42.097928+00:00"}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}, {"update": {"description": "Note: it'll not be automatically started. I added an arg to `fc_run_team_docker.bash` to start traffic shaper. \r\n\r\nTesting is a bit more involved:\r\n\r\n1. launch simulator and FC instances\r\n1. In FC instance, comment out the `if` check in `fc_run_team_docker.bash` to always start `src_monitor.bash` on FC\r\n1. Press `>1` on sim instance to launch simulation. Wait for robot to be ready. You should see `Done` in `~/code/cloudsim-docker.log`\r\n1. attach to sim docker instance and start the task: `rosservice call /srcsim/finals/start_task 1 1`\r\n1. in sim docker instance, move the robot to checkpoint1: `gz model -m valkyrie -x 2.0 -y 0 -z 1.1 -R 0 -P 0 -Y 0`\r\n1. verify messages are published to task topic: `rostopic echo /srcsim/finals/task`. If that doesn't happen, something is probably wrong in the init process. You'll need to stop the container and repeat from step 3\r\n1. press `START` on FC instance, this should trigger traffic shaper\r\n1. Launch VPN on OCU and test bandwidth to FC. e.g. `iperf -s` on OCU and `iperf -c 192.168.2.150` on FC to test downlink bandwidth", "title": "Integrate traffic shaper script", "destination": {"commit": {"hash": "40f3cd2afe3d", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/40f3cd2afe3d.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/40f3cd2afe3d"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "db8a9931e70e", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/commit/db8a9931e70e.json"}, "html": {"href": "#!/osrf/cloudsim-sim/commits/db8a9931e70e"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-sim.json"}, "html": {"href": "#!/osrf/cloudsim-sim"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7338bbed-6d00-4c97-9f6f-3aab7f13d165}ts=default"}}, "type": "repository", "name": "cloudsim-sim", "full_name": "osrf/cloudsim-sim", "uuid": "{7338bbed-6d00-4c97-9f6f-3aab7f13d165}"}, "branch": {"name": "fc_tc"}}, "state": "OPEN", "author": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "date": "2017-05-24T23:23:42.070655+00:00"}, "pull_request": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/osrf/cloudsim-sim/pullrequests/57.json"}, "html": {"href": "#!/osrf/cloudsim-sim/pull-requests/57"}}, "title": "Integrate traffic shaper script"}}]}