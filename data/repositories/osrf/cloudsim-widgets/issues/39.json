{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-widgets.json"}, "html": {"href": "#!/osrf/cloudsim-widgets"}, "avatar": {"href": "data/bytebucket.org/ravatar/{99f16044-e8c9-4af0-bb6e-51477582665b}ts=default"}}, "type": "repository", "name": "cloudsim-widgets", "full_name": "osrf/cloudsim-widgets", "uuid": "{99f16044-e8c9-4af0-bb6e-51477582665b}"}, "links": {"attachments": {"href": "data/repositories/osrf/cloudsim-widgets/issues/39/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/cloudsim-widgets/issues/39.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-widgets/issues/39/watch"}, "comments": {"href": "data/repositories/osrf/cloudsim-widgets/issues/39/comments_page=1.json"}, "html": {"href": "#!/osrf/cloudsim-widgets/issues/39/sort-out-the-role-of-each-branch"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-widgets/issues/39/vote"}}, "reporter": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "title": "Sort out the role of each branch", "component": null, "votes": 0, "watches": 1, "content": {"raw": "The way our branches are organized is a bit messy. Currently we have:\r\n\r\n## production -> deployed to https://cloudsim.io\r\n\r\nThis is the version which gets to the final users.\r\n\r\n## default -> deployed to https://dev.cloudsim.io\r\n\r\nThis is being used in two different ways:\r\n\r\n1. It has experimental features which are not ready to be rolled into production, such as SRC and ARIAC.\r\n\r\n1. It has features which we want to try before rolling into production, like bug fixes.\r\n\r\nThe reason for the two uses is mostly historical. Before production existed, default was a place for everything which has been peer reviewed.\r\n\r\nBut the fact that default has things which are not being tested to be rolled into production means we can't just merge default into production when we know things are working. So we have to cherry-pick changes which will go into production. \r\n\r\nNote that this is a problem only for the widgets server. Portal, auth and keys all have default and production branches in sync, so default is only being used for #2 above and can be merged directly into production.\r\n\r\nI'd like to propose we clean default and remove anything which is currently not being considered to go into full production (mainly SRC and ARIAC). After this, our work-flow would be like it is for the other servers:\r\n\r\n1. Develop a feature in a branch off default\r\n\r\n1. Make PR against default\r\n\r\n1. Wait for peer review\r\n\r\n1. Once merged and deployed, check that it works on the live server\r\n\r\n1. Make a pull request merging default into production\r\n\r\n1. It shouldn't be necessary for peer review again, the PR would be mostly to keep track of changes\r\n\r\nThis leaves the question about what to do with features which need to be tested in a live server, but aren't ready to go into production yet. I don't think we have a use case for this coming any time soon, so we can tackle it when it comes up.", "markup": "markdown", "html": "<p>The way our branches are organized is a bit messy. Currently we have:</p>\n<h2 id=\"markdown-header-production-deployed-to-httpscloudsimio\">production -&gt; deployed to <a href=\"https://cloudsim.io\" rel=\"nofollow\" class=\"ap-connect-link\">https://cloudsim.io</a></h2>\n<p>This is the version which gets to the final users.</p>\n<h2 id=\"markdown-header-default-deployed-to-httpsdevcloudsimio\">default -&gt; deployed to <a href=\"https://dev.cloudsim.io\" rel=\"nofollow\" class=\"ap-connect-link\">https://dev.cloudsim.io</a></h2>\n<p>This is being used in two different ways:</p>\n<ol>\n<li>\n<p>It has experimental features which are not ready to be rolled into production, such as SRC and ARIAC.</p>\n</li>\n<li>\n<p>It has features which we want to try before rolling into production, like bug fixes.</p>\n</li>\n</ol>\n<p>The reason for the two uses is mostly historical. Before production existed, default was a place for everything which has been peer reviewed.</p>\n<p>But the fact that default has things which are not being tested to be rolled into production means we can't just merge default into production when we know things are working. So we have to cherry-pick changes which will go into production. </p>\n<p>Note that this is a problem only for the widgets server. Portal, auth and keys all have default and production branches in sync, so default is only being used for <a href=\"#!/osrf/cloudsim-widgets/issues/2/most-widgets-only-work-on-chrome\" rel=\"nofollow\" title=\"Most widgets only work on Chrome\" class=\"ap-connect-link\">#2</a> above and can be merged directly into production.</p>\n<p>I'd like to propose we clean default and remove anything which is currently not being considered to go into full production (mainly SRC and ARIAC). After this, our work-flow would be like it is for the other servers:</p>\n<ol>\n<li>\n<p>Develop a feature in a branch off default</p>\n</li>\n<li>\n<p>Make PR against default</p>\n</li>\n<li>\n<p>Wait for peer review</p>\n</li>\n<li>\n<p>Once merged and deployed, check that it works on the live server</p>\n</li>\n<li>\n<p>Make a pull request merging default into production</p>\n</li>\n<li>\n<p>It shouldn't be necessary for peer review again, the PR would be mostly to keep track of changes</p>\n</li>\n</ol>\n<p>This leaves the question about what to do with features which need to be tested in a live server, but aren't ready to go into production yet. I don't think we have a use case for this coming any time soon, so we can tackle it when it comes up.</p>", "type": "rendered"}, "assignee": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2017-02-01T21:09:33.125461+00:00", "milestone": null, "updated_on": "2017-05-02T00:59:16.934973+00:00", "type": "issue", "id": 39}