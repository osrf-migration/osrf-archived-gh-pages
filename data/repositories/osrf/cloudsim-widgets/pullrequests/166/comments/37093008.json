{"links": {"self": {"href": "data/repositories/osrf/cloudsim-widgets/pullrequests/166/comments/37093008.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-widgets/diff/osrf/cloudsim-widgets:c058b356a5e5..48b5ffeb4c3e?path=app%2Felements%2Fcs-app%2Fcs-app.html"}, "html": {"href": "#!/osrf/cloudsim-widgets/pull-requests/166/_/diff#comment-37093008"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 166, "links": {"self": {"href": "data/repositories/osrf/cloudsim-widgets/pullrequests/166.json"}, "html": {"href": "#!/osrf/cloudsim-widgets/pull-requests/166"}}, "title": "Set and Update User Budget"}, "content": {"raw": "humm I think we shouldn't be using SRC-specific information on the profile page, because this page is available to all users, even if they're not participating on SRC.\n\nThis is being used to determine who is able to see the widget to create a new config, right? At the portal, the [condition](#!/osrf/cloudsim-portal/src/9af8fcab50139c831309e5029bffa2c32bfe4c2e/server/metric_configs.js?fileviewer=file-view-default#metric_configs.js-137) for being able to create a new config is having write permission to the `metrics-configs` resource. It would be more accurate to determine who sees the widget by checking who has permissions to that resource. You can see [examples](#!/osrf/cloudsim-widgets/src/48b5ffeb4c3e924b8026d50ff5d49694b78d40cc/app/elements/cs-s3keys/cs-s3keys.html?fileviewer=file-view-default#cs-s3keys.html-196) of how this is done for other widgets using the `cancreate` variable.", "markup": "markdown", "html": "<p>humm I think we shouldn't be using SRC-specific information on the profile page, because this page is available to all users, even if they're not participating on SRC.</p>\n<p>This is being used to determine who is able to see the widget to create a new config, right? At the portal, the <a data-is-external-link=\"true\" href=\"#!/osrf/cloudsim-portal/src/9af8fcab50139c831309e5029bffa2c32bfe4c2e/server/metric_configs.js?fileviewer=file-view-default#metric_configs.js-137\" rel=\"nofollow\">condition</a> for being able to create a new config is having write permission to the <code>metrics-configs</code> resource. It would be more accurate to determine who sees the widget by checking who has permissions to that resource. You can see <a data-is-external-link=\"true\" href=\"#!/osrf/cloudsim-widgets/src/48b5ffeb4c3e924b8026d50ff5d49694b78d40cc/app/elements/cs-s3keys/cs-s3keys.html?fileviewer=file-view-default#cs-s3keys.html-196\" rel=\"nofollow\">examples</a> of how this is done for other widgets using the <code>cancreate</code> variable.</p>", "type": "rendered"}, "created_on": "2017-05-17T18:05:02.257724+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 131, "from": null, "outdated": true, "path": "app/elements/cs-app/cs-app.html"}, "updated_on": "2017-05-17T18:05:02.260117+00:00", "type": "pullrequest_comment", "id": 37093008}