{"pagelen": 50, "values": [{"update": {"description": "In this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n    \r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "12218411cd8a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/12218411cd8a.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/12218411cd8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "MERGED", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-11T17:48:06.874981+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26/comments/40529811.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26/_/diff#comment-40529811"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}, "content": {"raw": "Merging this, as Widgets has been updated and merged! Thanks for the reviews!", "markup": "markdown", "html": "<p>Merging this, as Widgets has been updated and merged! Thanks for the reviews!</p>", "type": "rendered"}, "created_on": "2017-07-11T17:47:44.980335+00:00", "user": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "updated_on": "2017-07-11T17:47:44.982713+00:00", "type": "pullrequest_comment", "id": 40529811}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"approval": {"date": "2017-07-07T16:23:55.676584+00:00", "pullrequest": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}, "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26/comments/40308749.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26/_/diff#comment-40308749"}}, "parent": {"id": 40261920, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26/comments/40261920.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26/_/diff#comment-40261920"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}, "content": {"raw": "Thanks @chapulina , the tests are fixed now!\n\nPlease take a look at the [PR for the changes on gz-token](https://github.com/osrf/gz-token/pull/10). We don't need to change any dependency in this repository, but we would need to do so in Widgets. That way this change will also work from the UI login.\n\n**Edit:** Created this issue ([CLOUD-184](https://osrfoundation.atlassian.net/browse/CLOUD-184)) to keep better track of this.", "markup": "markdown", "html": "<p>Thanks @chapulina , the tests are fixed now!</p>\n<p>Please take a look at the <a data-is-external-link=\"true\" href=\"https://github.com/osrf/gz-token/pull/10\" rel=\"nofollow\">PR for the changes on gz-token</a>. We don't need to change any dependency in this repository, but we would need to do so in Widgets. That way this change will also work from the UI login.</p>\n<p><strong>Edit:</strong> Created this issue (<a data-is-external-link=\"true\" href=\"https://osrfoundation.atlassian.net/browse/CLOUD-184\" rel=\"nofollow\">CLOUD-184</a>) to keep better track of this.</p>", "type": "rendered"}, "created_on": "2017-07-07T12:26:07.170181+00:00", "user": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "updated_on": "2017-07-07T16:13:59.807982+00:00", "type": "pullrequest_comment", "id": 40308749}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"update": {"description": "In this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n    \r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "12218411cd8a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/12218411cd8a.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/12218411cd8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "OPEN", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-07T12:20:23.032664+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"update": {"description": "**\\* NOTE: This is a work in progress PR: Tests need to be updated. \\***\r\n\r\nIn this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n    \r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "12218411cd8a", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/12218411cd8a.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/12218411cd8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "OPEN", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-07T12:19:45.926136+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26/comments/40261920.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26/_/diff#comment-40261920"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}, "content": {"raw": "Looks good to me, we just need to fix the tests", "markup": "markdown", "html": "<p>Looks good to me, we just need to fix the tests</p>", "type": "rendered"}, "created_on": "2017-07-06T20:10:51.069420+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-07-06T20:10:51.071949+00:00", "type": "pullrequest_comment", "id": 40261920}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"update": {"description": "**\\* NOTE: This is a work in progress PR: Tests need to be updated. \\***\r\n\r\nIn this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n    \r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2c82ffd6b7c1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/2c82ffd6b7c1.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/2c82ffd6b7c1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "OPEN", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-06T20:00:25.915721+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"comment": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26/comments/40260842.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26/_/diff#comment-40260842"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}, "content": {"raw": "haha, love the 1-line change PR. LGTM.", "markup": "markdown", "html": "<p>haha, love the 1-line change PR. LGTM.</p>", "type": "rendered"}, "created_on": "2017-07-06T19:53:06.255076+00:00", "user": {"display_name": "Andr\u00e9s Fortier", "uuid": "{f9c4496c-9146-4675-b1d5-bd0ed156cf58}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bf9c4496c-9146-4675-b1d5-bd0ed156cf58%7D"}, "html": {"href": "https://bitbucket.org/%7Bf9c4496c-9146-4675-b1d5-bd0ed156cf58%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:c59901bb-7eb0-4d2c-966f-7c66c154fef3/4af4377f-d065-496d-8cd4-01d5c760c6a3/128"}}, "nickname": "andres_fortier", "type": "user", "account_id": "557058:c59901bb-7eb0-4d2c-966f-7c66c154fef3"}, "updated_on": "2017-07-06T19:53:06.305896+00:00", "type": "pullrequest_comment", "id": 40260842}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"update": {"description": "In this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2c82ffd6b7c1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/2c82ffd6b7c1.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/2c82ffd6b7c1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "OPEN", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-06T19:46:55.001338+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}, {"update": {"description": "In this PR I address part of [CLOUD-183](https://osrfoundation.atlassian.net/browse/CLOUD-183) (the second PR in gz-token is [here](https://github.com/osrf/gz-token/pull/10)).\r\n\r\nThe username is no longer passed as a query, instead, it is inside the Auth0 Token.\r\n\r\nBefore, a `GET` request to `/token` would respond with null identities, as none was passed as a query. To pass any identity, it had to be included as `/token?username=user`. (Examples using a local Cloudsim Auth server)\r\n\r\n    curl -X GET -H 'authorization: Bearer auth0_token' http://localhost:4001/token\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          null\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nNow, as the username is included inside the Auth0 Token, the same command responds with:\r\n\r\n    {\r\n      \"decoded\": {\r\n        \"identities\": [\r\n          \"german@creativa77.com.ar\",\r\n          \"teamGer\"\r\n        ]\r\n      },\r\n      \"success\": true,\r\n      \"token\": \"{{cloudsim_token}}\"\r\n    }\r\n\r\nThis way we avoid passing the username in the query.\r\n\r\nNotice that `req.user` contains the payload of the decoded token. It's email is in `req.user.email`.\r\n\r\n**Note: **The obtained Auth0 Token can still be decoded and modified, but as long as the Client Secret remains secret, it's signature won't be correctly encoded, and an invalid signature error will be thrown upon decoding.\r\n\r\nptal @andres_fortier", "title": "Obtain username from Token", "destination": {"commit": {"hash": "d6fb368b5606", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/d6fb368b5606.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/d6fb368b5606"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "2c82ffd6b7c1", "type": "commit", "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/commit/2c82ffd6b7c1.json"}, "html": {"href": "#!/osrf/cloudsim-auth/commits/2c82ffd6b7c1"}}}, "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-auth.json"}, "html": {"href": "#!/osrf/cloudsim-auth"}, "avatar": {"href": "data/bytebucket.org/ravatar/{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}ts=default"}}, "type": "repository", "name": "cloudsim-auth", "full_name": "osrf/cloudsim-auth", "uuid": "{fcbe065d-e7d7-4c83-9ca6-5e91154a993c}"}, "branch": {"name": "remove-username-query"}}, "state": "OPEN", "author": {"display_name": "Germ\u00e1n M\u00e1s", "uuid": "{4135c724-adb3-4ffb-a983-57bf615c4d1c}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D"}, "html": {"href": "https://bitbucket.org/%7B4135c724-adb3-4ffb-a983-57bf615c4d1c%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384/b758f5b1-8d6c-4aa7-8106-ebf2b29bc9a9/128"}}, "nickname": "Germ\u00e1n M\u00e1s", "type": "user", "account_id": "557058:ebe9f39d-0ca2-4f29-82cf-6cc3df017384"}, "date": "2017-07-06T19:46:54.968799+00:00"}, "pull_request": {"type": "pullrequest", "id": 26, "links": {"self": {"href": "data/repositories/osrf/cloudsim-auth/pullrequests/26.json"}, "html": {"href": "#!/osrf/cloudsim-auth/pull-requests/26"}}, "title": "Obtain username from Token"}}]}