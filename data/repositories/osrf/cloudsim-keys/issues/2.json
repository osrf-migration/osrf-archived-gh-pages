{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/osrf/cloudsim-keys.json"}, "html": {"href": "#!/osrf/cloudsim-keys"}, "avatar": {"href": "data/bytebucket.org/ravatar/{ba12f155-ebda-4af6-b5a9-cfb6b335adea}ts=default"}}, "type": "repository", "name": "cloudsim-keys", "full_name": "osrf/cloudsim-keys", "uuid": "{ba12f155-ebda-4af6-b5a9-cfb6b335adea}"}, "links": {"attachments": {"href": "data/repositories/osrf/cloudsim-keys/issues/2/attachments_page=1.json"}, "self": {"href": "data/repositories/osrf/cloudsim-keys/issues/2.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-keys/issues/2/watch"}, "comments": {"href": "data/repositories/osrf/cloudsim-keys/issues/2/comments_page=1.json"}, "html": {"href": "#!/osrf/cloudsim-keys/issues/2/add-mtu-parameter-for-openvpn-config"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-keys/issues/2/vote"}}, "reporter": {"display_name": "Tully Foote", "uuid": "{3d90dbd4-b845-466f-b5bd-068566f7ff50}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D"}, "html": {"href": "https://bitbucket.org/%7B3d90dbd4-b845-466f-b5bd-068566f7ff50%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/3bc6528f8fe1fef6b6ecc7312ee0cf04d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsTF-2.png"}}, "nickname": "Tully Foote", "type": "user", "account_id": "557058:e2bf789f-2138-4a4e-ba39-3d618078e20b"}, "title": "Add mtu parameter for openvpn config", "component": null, "votes": 0, "watches": 1, "content": {"raw": "We ran into an issue running over a wireless internet connection that the ssh connection would work, but as soon as rsync over the tunnel initiated the connection would drop. \r\n\r\nWe found the fix was to lower the mtu on the openvpn tunnel. We might want to lower the mtu by default or have a parameter or a backoff logic. \r\n\r\nRelated links: \r\n\r\nhttps://forums.openvpn.net/viewtopic.php?t=21857\r\nhttps://serverfault.com/questions/488893/how-do-i-prevent-tcp-connection-freezes-over-an-openvpn-network\r\n\r\nFYI we had to set it to 1150 for effective operations. \r\nTo manually work around this you can run \r\n`sudo ifconfig tap0 mtu 1150` after starting the vpn on tap0.", "markup": "markdown", "html": "<p>We ran into an issue running over a wireless internet connection that the ssh connection would work, but as soon as rsync over the tunnel initiated the connection would drop. </p>\n<p>We found the fix was to lower the mtu on the openvpn tunnel. We might want to lower the mtu by default or have a parameter or a backoff logic. </p>\n<p>Related links: </p>\n<p><a href=\"https://forums.openvpn.net/viewtopic.php?t=21857\" rel=\"nofollow\" class=\"ap-connect-link\">https://forums.openvpn.net/viewtopic.php?t=21857</a>\n<a href=\"https://serverfault.com/questions/488893/how-do-i-prevent-tcp-connection-freezes-over-an-openvpn-network\" rel=\"nofollow\" class=\"ap-connect-link\">https://serverfault.com/questions/488893/how-do-i-prevent-tcp-connection-freezes-over-an-openvpn-network</a></p>\n<p>FYI we had to set it to 1150 for effective operations. \nTo manually work around this you can run \n<code>sudo ifconfig tap0 mtu 1150</code> after starting the vpn on tap0.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-04-23T00:46:50.934193+00:00", "milestone": null, "updated_on": "2017-04-23T00:46:50.934193+00:00", "type": "issue", "id": 2}