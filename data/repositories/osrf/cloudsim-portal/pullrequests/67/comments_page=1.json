{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35512066.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35512066"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "Awesome! It would also be nice to test errors, but I think we're going to find out soon how those are working :)", "markup": "markdown", "html": "<p>Awesome! It would also be nice to test errors, but I think we're going to find out soon how those are working :)</p>", "type": "rendered"}, "created_on": "2017-04-24T02:09:46.665342+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T02:09:46.667585+00:00", "type": "pullrequest_comment", "id": 35512066}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35584672.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35584672"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "Heads up that I'm adapting widgets to use this", "markup": "markdown", "html": "<p>Heads up that I'm adapting widgets to use this</p>", "type": "rendered"}, "created_on": "2017-04-24T20:35:05.124629+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T20:35:05.126999+00:00", "type": "pullrequest_comment", "id": 35584672}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35585325.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35585325"}}, "parent": {"id": 35584672, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35584672.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35584672"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "humm My browser is still complaining, but I might have done something wrong:\n\n~~~\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://devportal.cloudsim.io/srcproxy. (Reason: CORS header \u2018Access-Control-Allow-Origin\u2019 missing).\n~~~", "markup": "markdown", "html": "<p>humm My browser is still complaining, but I might have done something wrong:</p>\n<div class=\"codehilite\"><pre><span></span>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://devportal.cloudsim.io/srcproxy. (Reason: CORS header \u2018Access-Control-Allow-Origin\u2019 missing).\n</pre></div>", "type": "rendered"}, "created_on": "2017-04-24T20:45:22.948349+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T20:45:22.950365+00:00", "type": "pullrequest_comment", "id": 35585325}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35585533.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35585533"}}, "parent": {"id": 35585325, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35585325.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35585325"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "That's what the devportal's logs say:\n\n~~~\n_http_outgoing.js:549\n    throw new TypeError('first argument must be a string or Buffer');\n    ^\n\nTypeError: first argument must be a string or Buffer\n    at ServerResponse.OutgoingMessage.end (_http_outgoing.js:549:11)\n    at Request.<anonymous> (/var/app/current/server/src/proxy.js:20:13)\n    at emitOne (events.js:82:20)\n    at Request.emit (events.js:169:7)\n    at Request.onRequestError (/var/app/current/node_modules/request/request.js:884:8)\n    at emitOne (events.js:77:13)\n    at ClientRequest.emit (events.js:169:7)\n    at Socket.socketErrorListener (_http_client.js:267:9)\n    at emitOne (events.js:77:13)\n    at Socket.emit (events.js:169:7)\n~~~", "markup": "markdown", "html": "<p>That's what the devportal's logs say:</p>\n<div class=\"codehilite\"><pre><span></span>_http_outgoing.js:549\n    throw new TypeError(&#39;first argument must be a string or Buffer&#39;);\n    ^\n\nTypeError: first argument must be a string or Buffer\n    at ServerResponse.OutgoingMessage.end (_http_outgoing.js:549:11)\n    at Request.&lt;anonymous&gt; (/var/app/current/server/src/proxy.js:20:13)\n    at emitOne (events.js:82:20)\n    at Request.emit (events.js:169:7)\n    at Request.onRequestError (/var/app/current/node_modules/request/request.js:884:8)\n    at emitOne (events.js:77:13)\n    at ClientRequest.emit (events.js:169:7)\n    at Socket.socketErrorListener (_http_client.js:267:9)\n    at emitOne (events.js:77:13)\n    at Socket.emit (events.js:169:7)\n</pre></div>", "type": "rendered"}, "created_on": "2017-04-24T20:48:52.139467+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T20:48:52.141588+00:00", "type": "pullrequest_comment", "id": 35585533}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35587818.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35587818"}}, "parent": {"id": 35585533, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35585533.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35585533"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "Ok so, what was happening is that I was trying to post to port `80` on a cloudsim-sim, when it was actually on port `4000`. In any case, I think the portal server shouldn't crash in this situation, so I think we could handle this error better.\n\nNow I can post to the cloudsim-sim instance, but I'm getting a 401. We need to be authenticated to `POST /simulations`:\n\n#!/osrf/cloudsim-sim/src/f40445a0d539414d79f318744136962c415d0b02/server/simulations.js?fileviewer=file-view-default#simulations.js-345", "markup": "markdown", "html": "<p>Ok so, what was happening is that I was trying to post to port <code>80</code> on a cloudsim-sim, when it was actually on port <code>4000</code>. In any case, I think the portal server shouldn't crash in this situation, so I think we could handle this error better.</p>\n<p>Now I can post to the cloudsim-sim instance, but I'm getting a 401. We need to be authenticated to <code>POST /simulations</code>:</p>\n<p><a href=\"#!/osrf/cloudsim-sim/src/f40445a0d539414d79f318744136962c415d0b02/server/simulations.js?fileviewer=file-view-default#simulations.js-345\" rel=\"nofollow\" class=\"ap-connect-link\">#!/osrf/cloudsim-sim/src/f40445a0d539414d79f318744136962c415d0b02/server/simulations.js?fileviewer=file-view-default#simulations.js-345</a></p>", "type": "rendered"}, "created_on": "2017-04-24T21:30:08.169302+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T21:30:08.172522+00:00", "type": "pullrequest_comment", "id": 35587818}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35590257.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35590257"}}, "parent": {"id": 35587818, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35587818.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35587818"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "Ok, I tested this on the live server and it worked:\n\n59451c3", "markup": "markdown", "html": "<p>Ok, I tested this on the live server and it worked:</p>\n<p><a href=\"#!/osrf/cloudsim-portal/commits/59451c3\" rel=\"nofollow\" class=\"ap-connect-link\">59451c3</a></p>", "type": "rendered"}, "created_on": "2017-04-24T22:20:19.177038+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "updated_on": "2017-04-24T22:20:19.180321+00:00", "type": "pullrequest_comment", "id": 35590257}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35597193.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35597193"}}, "parent": {"id": 35590257, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35590257.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35590257"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "just catching up on these comments. There is an [iptables.bash](#!/osrf/cloudsim-sim/src/f40445a0d539414d79f318744136962c415d0b02/iptables.bash?at=default&fileviewer=file-view-default) script in cloudsim-sim that directs traffic from 80 to 4000. I think that's manually set in the other project before the AMI is created so that why posting to 80 worked. \n\ngood catch on the missing authorization token in the proxy to make it work", "markup": "markdown", "html": "<p>just catching up on these comments. There is an <a data-is-external-link=\"true\" href=\"#!/osrf/cloudsim-sim/src/f40445a0d539414d79f318744136962c415d0b02/iptables.bash?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">iptables.bash</a> script in cloudsim-sim that directs traffic from 80 to 4000. I think that's manually set in the other project before the AMI is created so that why posting to 80 worked. </p>\n<p>good catch on the missing authorization token in the proxy to make it work</p>", "type": "rendered"}, "created_on": "2017-04-25T02:43:17.739009+00:00", "user": {"display_name": "Ian Chen", "uuid": "{eaa6fca5-6deb-43f6-907f-971c144735dd}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D"}, "html": {"href": "https://bitbucket.org/%7Beaa6fca5-6deb-43f6-907f-971c144735dd%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5/1e4adcdf-1946-4280-9aea-eb5f15a7f912/128"}}, "nickname": "Ian Chen", "type": "user", "account_id": "557058:10b01d41-a2e9-4a41-a907-e6e2f03b6cd5"}, "updated_on": "2017-04-25T02:43:17.741199+00:00", "type": "pullrequest_comment", "id": 35597193}, {"links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67/comments/35587062.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/osrf/cloudsim-portal/diff/osrf/cloudsim-portal:e142637e9240..8f3a637581e3?path=server%2Fsrc%2Fproxy.js"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67/_/diff#comment-35587062"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 67, "links": {"self": {"href": "data/repositories/osrf/cloudsim-portal/pullrequests/67.json"}, "html": {"href": "#!/osrf/cloudsim-portal/pull-requests/67"}}, "title": "Add proxy route"}, "content": {"raw": "Do we need the user token?", "markup": "markdown", "html": "<p>Do we need the user token?</p>", "type": "rendered"}, "created_on": "2017-04-24T21:15:28.957660+00:00", "user": {"display_name": "Louise Poubel", "uuid": "{5cfa2075-477b-4ded-bdb9-8d2479544ec4}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D"}, "html": {"href": "https://bitbucket.org/%7B5cfa2075-477b-4ded-bdb9-8d2479544ec4%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8/7d903d90-c5ea-4182-b7ef-0d467e9e1c74/128"}}, "nickname": "chapulina", "type": "user", "account_id": "557058:6ff86fcb-b7ab-44a5-b8a6-f6d9cae8b6e8"}, "inline": {"to": 18, "from": null, "path": "server/src/proxy.js"}, "updated_on": "2017-04-24T21:15:28.960237+00:00", "type": "pullrequest_comment", "id": 35587062}], "page": 1, "size": 8}